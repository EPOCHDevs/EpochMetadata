{
  "tests": [
    {
      "title": "Gap Report Stacked Bar Chart - Gap Fill Analysis",
      "input": {
        "gap_size": [
          1.5,
          -0.8,
          2.1,
          -1.2,
          0.7,
          -0.5
        ],
        "gap_filled": [
          true,
          false,
          true,
          true,
          false,
          false
        ],
        "psc": [
          100.0,
          101.5,
          100.7,
          102.8,
          101.6,
          100.5
        ],
        "gap_retrace": [
          0.3,
          0.0,
          0.5,
          0.6000000000000001,
          0.0,
          0.0
        ],
        "psc_timestamp": [
          1640995200,
          1641081600,
          1641168000,
          1641254400,
          1641340800,
          1641427200
        ],
        "c": [
          101.2,
          101.0,
          102.9,
          102.5,
          101.8,
          100.8
        ],
        "timestamp": [
          "2024-01-01T09:00:00",
          "2024-01-02T09:00:00",
          "2024-01-03T09:00:00",
          "2024-01-04T09:00:00",
          "2024-01-05T09:00:00",
          "2024-01-06T09:00:00"
        ]
      },
      "expect": {
        "type": "tearsheet",
        "charts": [
          {
            "title": "Gap Fill Analysis",
            "category": "Reports",
            "type": "WidgetBarChart",
            "x_axis": {
              "type": "AxisCategory",
              "data": [
                "Gap Up",
                "Gap Down",
                "Total"
              ]
            },
            "bars": [
              {
                "name": "Filled",
                "stack": "gap_analysis",
                "data": [
                  2.0,
                  1.0,
                  3.0
                ]
              },
              {
                "name": "Not Filled",
                "stack": "gap_analysis",
                "data": [
                  1.0,
                  2.0,
                  3.0
                ]
              }
            ],
            "stacked": true,
            "vertical": true
          }
        ]
      },
      "options": {
        "transform_name": "gap_report",
        "output_id": "test_gap_stacked_bar",
        "fill_time_pivot_hour": 13,
        "histogram_bins": 5,
        "inputs": "{gap_filled: gap_filled, gap_retrace: gap_retrace, gap_size: gap_size, psc: psc, psc_timestamp: psc_timestamp}",
        "timeframe": "1D"
      },
      "timestamp_columns": [
        "timestamp"
      ],
      "index_column": "timestamp"
    },
    {
      "title": "Gap Report Stacked Bar Chart - All Gap Up Scenario",
      "input": {
        "gap_size": [
          1.2,
          0.8,
          1.5,
          2.0
        ],
        "gap_filled": [
          true,
          false,
          true,
          false
        ],
        "psc": [
          100.0,
          101.2,
          102.0,
          103.5
        ],
        "gap_retrace": [
          0.3,
          0.0,
          0.5,
          0.0
        ],
        "psc_timestamp": [
          1640995200,
          1641081600,
          1641168000,
          1641254400
        ],
        "c": [
          101.5,
          102.1,
          103.8,
          104.2
        ],
        "timestamp": [
          "2024-01-21T09:00:00",
          "2024-01-22T09:00:00",
          "2024-01-23T09:00:00",
          "2024-01-24T09:00:00"
        ]
      },
      "expect": {
        "type": "tearsheet",
        "charts": [
          {
            "title": "Gap Fill Analysis",
            "category": "Reports",
            "type": "WidgetBarChart",
            "x_axis": {
              "type": "AxisCategory",
              "data": [
                "Gap Up",
                "Gap Down",
                "Total"
              ]
            },
            "bars": [
              {
                "name": "Filled",
                "stack": "gap_analysis",
                "data": [
                  2.0,
                  0.0,
                  2.0
                ]
              },
              {
                "name": "Not Filled",
                "stack": "gap_analysis",
                "data": [
                  2.0,
                  0.0,
                  2.0
                ]
              }
            ],
            "stacked": true,
            "vertical": true
          }
        ]
      },
      "options": {
        "transform_name": "gap_report",
        "output_id": "test_gap_stacked_bar_all_up",
        "fill_time_pivot_hour": 13,
        "histogram_bins": 5,
        "inputs": "{gap_filled: gap_filled, gap_retrace: gap_retrace, gap_size: gap_size, psc: psc, psc_timestamp: psc_timestamp}",
        "timeframe": "1D"
      },
      "timestamp_columns": [
        "timestamp"
      ],
      "index_column": "timestamp"
    },
    {
      "title": "Gap Report Stacked Bar Chart - All Gap Down Scenario",
      "input": {
        "gap_size": [
          -1.2,
          -0.8,
          -1.5
        ],
        "gap_filled": [
          false,
          true,
          false
        ],
        "psc": [
          101.2,
          100.8,
          101.5
        ],
        "gap_retrace": [
          0.0,
          0.4,
          0.0
        ],
        "psc_timestamp": [
          1640995200,
          1641081600,
          1641168000
        ],
        "c": [
          100.5,
          100.2,
          100.8
        ],
        "timestamp": [
          "2024-02-10T09:00:00",
          "2024-02-11T09:00:00",
          "2024-02-12T09:00:00"
        ]
      },
      "expect": {
        "type": "tearsheet",
        "charts": [
          {
            "title": "Gap Fill Analysis",
            "category": "Reports",
            "type": "WidgetBarChart",
            "x_axis": {
              "type": "AxisCategory",
              "data": [
                "Gap Up",
                "Gap Down",
                "Total"
              ]
            },
            "bars": [
              {
                "name": "Filled",
                "stack": "gap_analysis",
                "data": [
                  0.0,
                  1.0,
                  1.0
                ]
              },
              {
                "name": "Not Filled",
                "stack": "gap_analysis",
                "data": [
                  0.0,
                  2.0,
                  2.0
                ]
              }
            ],
            "stacked": true,
            "vertical": true
          }
        ]
      },
      "options": {
        "transform_name": "gap_report",
        "output_id": "test_gap_stacked_bar_all_down",
        "fill_time_pivot_hour": 13,
        "histogram_bins": 5,
        "inputs": "{gap_filled: gap_filled, gap_retrace: gap_retrace, gap_size: gap_size, psc: psc, psc_timestamp: psc_timestamp}",
        "timeframe": "1D"
      },
      "timestamp_columns": [
        "timestamp"
      ],
      "index_column": "timestamp"
    }
  ]
}