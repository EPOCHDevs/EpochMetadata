{
  "tests": [
    {
      "title": "Table Report with Timestamp Index and WHERE Clause",
      "input": {
        "moving_avg#result": [
          100.5,
          101.2,
          99.8,
          102.3,
          101.0
        ],
        "volume_indicator#signal": [
          1500.0,
          800.0,
          2000.0,
          1200.0,
          900.0
        ],
        "timestamp": [
          "2023-01-01T09:30:00",
          "2023-01-01T09:31:00",
          "2023-01-01T09:32:00",
          "2023-01-01T09:33:00",
          "2023-01-01T09:34:00"
        ]
      },
      "expect": {
        "type": "tearsheet",
        "cards": {
          "cards": []
        },
        "tables": [
          {
            "title": "High Volume Periods Analysis",
            "category": "Reports",
            "type": "WidgetDataTable",
            "columns": [
              {
                "name": "timestamp",
                "type": "TypeString"
              },
              {
                "name": "moving_avg_result",
                "type": "TypeDecimal"
              },
              {
                "name": "volume_indicator_signal",
                "type": "TypeDecimal"
              },
              {
                "name": "price_volume_ratio",
                "type": "TypeDecimal"
              }
            ],
            "data": {
              "rows": [
                [
                  "2023-01-01T09:32:00",
                  99.8,
                  2000.0,
                  0.0499
                ],
                [
                  "2023-01-01T09:30:00",
                  100.5,
                  1500.0,
                  0.067
                ],
                [
                  "2023-01-01T09:33:00",
                  102.3,
                  1200.0,
                  0.08525
                ]
              ]
            }
          }
        ]
      },
      "options": {
        "transform_name": "table_report",
        "sql": "SELECT SLOT2 as timestamp, SLOT0 as moving_avg_result, SLOT1 as volume_indicator_signal, ROUND(SLOT0 / SLOT1, 5) as price_volume_ratio FROM self WHERE SLOT1 > 1000 ORDER BY SLOT1 DESC",
        "title": "High Volume Periods Analysis",
        "add_index": true,
        "output_id": "test_timestamp_table",
        "inputs": "{SLOT: [moving_avg#result, volume_indicator#signal, timestamp]}",
        "timeframe": "1D"
      }
    }
  ]
}