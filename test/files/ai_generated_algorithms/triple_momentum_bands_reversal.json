{
  "id": "algorithm_001",
  "name": "Triple Momentum Bands Reversal Strategy",
  "description": "This strategy utilizes three momentum indicators with different lengths to identify potential reversal points in the market. By analyzing fast, mid, and slow momentum, it aims to capitalize on price movements and optimize entry and exit points.",
  "algorithm_type": "Momentum",
  "prompt": "//@version=5\nstrategy(\"Triple Momentum Bands Reversal\", overlay=true, initial_capital=10000, default_qty_type=strategy.percent_of_equity, default_qty_value=10)\n\n// Inputs\nlengthFast = input.int(10, \"Fast Momentum Length (ROC)\", minval=1)\nlengthMid = input.int(21, \"Mid Momentum Length (ROC)\", minval=1)\nlengthSlow = input.int(50, \"Slow Momentum Length (ROC)\", minval=1)\nvolMult = input.float(1.5, \"Volume Spike Multiplier\", step=0.1)\nemaVolLength = input.int(20, \"Volume EMA Length\", minval=1)\nbandMult = input.float(2.0, \"Momentum Bands StdDev Multiplier\", step=0.1)\nstopLossPerc = input.float(1.5, \"Stop Loss %\", step=0.1)\n\n// Calculate Volume EMA and volume spike\nvolEMA = ta.ema(volume, emaVolLength)\nvolSpike = volume > (volEMA * volMult)\n\n// Rate of Change (ROC) for momentum (typical price)\ntypPrice = ta.typical_price\nrocFast = ta.roc(typPrice, lengthFast)\nrocMid = ta.roc(typPrice, lengthMid)\nrocSlow = ta.roc(typPrice, lengthSlow)\n\n// Calculate momentum bands based on mid ROC\nmidROC_MA = ta.sma(rocMid, lengthMid)\nmidROC_SD = ta.stdev(rocMid, lengthMid)\nupperBand = midROC_MA + bandMult * midROC_SD\nlowerBand = midROC_MA - bandMult * midROC_SD\n\n// Conditions for Long Entry: \n// 1. Fast > Mid > Slow momentum (all positive) to confirm strong upward momentum\n// 2. Mid ROC crosses below lower momentum band (oversold momentum condition)\n// 3. Volume is spiking (confirming momentum shift)\nlongCond = rocFast > rocMid and rocMid > rocSlow and rocSlow > 0 and ta.crossover(rocMid, lowerBand) and volSpike\n\n// Conditions for Short Entry: \n// 1. Fast < Mid < Slow momentum (all negative) to confirm strong downward momentum\n// 2. Mid ROC crosses above upper momentum band (overbought momentum condition)\n// 3. Volume spike confirms momentum shift\nshortCond = rocFast < rocMid and rocMid < rocSlow and rocSlow < 0 and ta.crossunder(rocMid, upperBand) and volSpike\n\n// Execute trades\nif (longCond)\n    strategy.entry(\"Long\", strategy.long)\nif (shortCond)\n    strategy.entry(\"Short\", strategy.short)\n\n// Exit with fixed % stop loss\nif strategy.position_size > 0\n    stopLevelLong = strategy.position_avg_price * (1 - stopLossPerc / 100)\n    strategy.exit(\"Long Exit\", \"Long\", stop=stopLevelLong)\nif strategy.position_size < 0\n    stopLevelShort = strategy.position_avg_price * (1 + stopLossPerc / 100)\n    strategy.exit(\"Short Exit\", \"Short\", stop=stopLevelShort)\n\n// Plot momentum bands and ROC mid for visualization\nplot(midROC_MA, color=color.new(color.orange, 0), title=\"Mid ROC SMA\")\nplot(upperBand, color=color.new(color.green, 50), title=\"Upper Momentum Band\")\nplot(lowerBand, color=color.new(color.red, 50), title=\"Lower Momentum Band\")\nplot(rocMid, color=color.blue, title=\"Mid ROC\", linewidth=2)",
  "blueprint": {
    "nodes": [
      {
        "id": "mds",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "day",
          "interval": 1
        }
      },
      {
        "id": "typ",
        "type": "typprice",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "day",
          "interval": 1
        }
      },
      {
        "id": "roc_fast",
        "type": "roc",
        "options": [
          {
            "id": "period",
            "value": 10,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "roc_mid",
        "type": "roc",
        "options": [
          {
            "id": "period",
            "value": 21,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "roc_slow",
        "type": "roc",
        "options": [
          {
            "id": "period",
            "value": 50,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "sma_mid",
        "type": "sma",
        "options": [
          {
            "id": "period",
            "value": 21,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "std_mid",
        "type": "stddev",
        "options": [
          {
            "id": "period",
            "value": 21,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "band_mult",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 2,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "mul_band",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "upper_band",
        "type": "add",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lower_band",
        "type": "sub",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_fast_mid",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_mid_slow",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "zero_const",
        "type": "zero",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_slow_zero",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "crossover_lower",
        "type": "crossover",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "ema_vol",
        "type": "ema",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "vol_mult",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 1.5,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "mul_vol",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_vol_spike",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "agg_long",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_fast_mid",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_mid_slow",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_slow_zero",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "crossover_upper",
        "type": "crossover",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "agg_short",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "trade_exec",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "typ",
          "handle": "result"
        },
        "target": {
          "id": "roc_fast",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "typ",
          "handle": "result"
        },
        "target": {
          "id": "roc_mid",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "typ",
          "handle": "result"
        },
        "target": {
          "id": "roc_slow",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "roc_mid",
          "handle": "result"
        },
        "target": {
          "id": "sma_mid",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "roc_mid",
          "handle": "result"
        },
        "target": {
          "id": "std_mid",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "std_mid",
          "handle": "result"
        },
        "target": {
          "id": "mul_band",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "band_mult",
          "handle": "result"
        },
        "target": {
          "id": "mul_band",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "sma_mid",
          "handle": "result"
        },
        "target": {
          "id": "upper_band",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "mul_band",
          "handle": "result"
        },
        "target": {
          "id": "upper_band",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "sma_mid",
          "handle": "result"
        },
        "target": {
          "id": "lower_band",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "mul_band",
          "handle": "result"
        },
        "target": {
          "id": "lower_band",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "roc_fast",
          "handle": "result"
        },
        "target": {
          "id": "gt_fast_mid",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "roc_mid",
          "handle": "result"
        },
        "target": {
          "id": "gt_fast_mid",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "roc_mid",
          "handle": "result"
        },
        "target": {
          "id": "gt_mid_slow",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "roc_slow",
          "handle": "result"
        },
        "target": {
          "id": "gt_mid_slow",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "roc_slow",
          "handle": "result"
        },
        "target": {
          "id": "gt_slow_zero",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "zero_const",
          "handle": "result"
        },
        "target": {
          "id": "gt_slow_zero",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "roc_mid",
          "handle": "result"
        },
        "target": {
          "id": "crossover_lower",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "lower_band",
          "handle": "result"
        },
        "target": {
          "id": "crossover_lower",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "mds",
          "handle": "v"
        },
        "target": {
          "id": "ema_vol",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "ema_vol",
          "handle": "result"
        },
        "target": {
          "id": "mul_vol",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "vol_mult",
          "handle": "result"
        },
        "target": {
          "id": "mul_vol",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "mds",
          "handle": "v"
        },
        "target": {
          "id": "gt_vol_spike",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "mul_vol",
          "handle": "result"
        },
        "target": {
          "id": "gt_vol_spike",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "gt_fast_mid",
          "handle": "result"
        },
        "target": {
          "id": "agg_long",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_mid_slow",
          "handle": "result"
        },
        "target": {
          "id": "agg_long",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_slow_zero",
          "handle": "result"
        },
        "target": {
          "id": "agg_long",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "crossover_lower",
          "handle": "result"
        },
        "target": {
          "id": "agg_long",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_vol_spike",
          "handle": "result"
        },
        "target": {
          "id": "agg_long",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "roc_fast",
          "handle": "result"
        },
        "target": {
          "id": "lt_fast_mid",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "roc_mid",
          "handle": "result"
        },
        "target": {
          "id": "lt_fast_mid",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "roc_mid",
          "handle": "result"
        },
        "target": {
          "id": "lt_mid_slow",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "roc_slow",
          "handle": "result"
        },
        "target": {
          "id": "lt_mid_slow",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "roc_slow",
          "handle": "result"
        },
        "target": {
          "id": "lt_slow_zero",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "zero_const",
          "handle": "result"
        },
        "target": {
          "id": "lt_slow_zero",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "upper_band",
          "handle": "result"
        },
        "target": {
          "id": "crossover_upper",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "roc_mid",
          "handle": "result"
        },
        "target": {
          "id": "crossover_upper",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "lt_fast_mid",
          "handle": "result"
        },
        "target": {
          "id": "agg_short",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "lt_mid_slow",
          "handle": "result"
        },
        "target": {
          "id": "agg_short",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "lt_slow_zero",
          "handle": "result"
        },
        "target": {
          "id": "agg_short",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "crossover_upper",
          "handle": "result"
        },
        "target": {
          "id": "agg_short",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_vol_spike",
          "handle": "result"
        },
        "target": {
          "id": "agg_short",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "agg_long",
          "handle": "result"
        },
        "target": {
          "id": "trade_exec",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "agg_short",
          "handle": "result"
        },
        "target": {
          "id": "trade_exec",
          "handle": "short"
        }
      }
    ]
  },
  "timestamp": "2025-06-23T15:48:30.601343",
  "tags": [
    "momentum",
    "reversal",
    "strategy",
    "technical analysis",
    "trading"
  ]
}