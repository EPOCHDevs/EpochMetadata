{
  "id": "volatility-volume-breakwave-strategy",
  "name": "Volatility-Volume Breakwave Strategy",
  "description": "This strategy identifies trading opportunities based on volatility and volume spikes. It utilizes a combination of wave analysis and volume metrics to determine optimal entry and exit points.",
  "algorithm_type": "TechnicalPattern",
  "prompt": "//@version=5\nstrategy(\"Volatility-Volume Breakwave Strategy\", overlay=true, default_qty_type=strategy.percent_of_equity, default_qty_value=10)\n\n// Inputs\nlenWave = input.int(14, \"Wave Period\")\nvolLen = input.int(20, \"Volume SMA Length\")\nvolMultiplier = input.float(1.5, \"Volume Spike Multiplier\")\nvolatilityLen = input.int(14, \"Volatility Length\")\natrMultiplier = input.float(1.7, \"ATR Breakout Multiplier\")\nadxLen = input.int(14, \"ADX Length\")\nadxThresh = input.float(25, \"ADX Threshold\")\n\n// Wave Indicator (Price Wave Calculation)\n// Calculate price wave as peak-to-trough amplitude over lenWave\nhighestHigh = ta.highest(high, lenWave)\nlowestLow = ta.lowest(low, lenWave)\nwaveAmplitude = highestHigh - lowestLow\n\n// Normalize wave amplitude by close to get relative wave size\nwaveRel = waveAmplitude / close\n\n// Volume Spike Detection\nvolSMA = ta.sma(volume, volLen)\nvolSpike = volume > volSMA * volMultiplier\n\n// Volatility measurement using ATR\natr = ta.atr(volatilityLen)\n\n// Calculate a volatility breakout threshold based on ATR\nupperBreak = close + atr * atrMultiplier\nlowerBreak = close - atr * atrMultiplier\n\n// ADX for trend strength filter\nadx = ta.adx(adxLen)\n\n// Detect breakout condition with volume spike and wave amplitude confirm\nlongBreakout = (high > upperBreak) and volSpike and (waveRel > 0.02) and adx > adxThresh\nshortBreakout = (low < lowerBreak) and volSpike and (waveRel > 0.02) and adx > adxThresh\n\n// Entries\nif (longBreakout)\n    strategy.entry(\"Long\", strategy.long)\n\nif (shortBreakout)\n    strategy.entry(\"Short\", strategy.short)\n\n// Exits - use trailing stop based on ATR\ntrailPerc = 3.0\nlongStopLevel = strategy.position_avg_price - atr * atrMultiplier\nshortStopLevel = strategy.position_avg_price + atr * atrMultiplier\n\nif (strategy.position_size > 0)\n    strategy.exit(\"Long Exit\", \"Long\", stop=longStopLevel)\n\nif (strategy.position_size < 0)\n    strategy.exit(\"Short Exit\", \"Short\", stop=shortStopLevel)\n\n// Plotting for visualization\nplot(upperBreak, color=color.new(color.green, 80), title=\"Upper Breakout Level\")\nplot(lowerBreak, color=color.new(color.red, 80), title=\"Lower Breakout Level\")\nplot(volSMA, color=color.orange, title=\"Volume SMA\", linewidth=1)\nplotshape(longBreakout, title=\"Long Breakout\", location=location.belowbar, color=color.green, style=shape.triangleup, size=size.tiny)\nplotshape(shortBreakout, title=\"Short Breakout\", location=location.abovebar, color=color.red, style=shape.triangledown, size=size.tiny)",
  "blueprint": {
    "nodes": [
      {
        "id": "md",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "day",
          "interval": 1
        }
      },
      {
        "id": "atr_node",
        "type": "atr",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "day",
          "interval": 1
        }
      },
      {
        "id": "multConst",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 1.7,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "mulAtr",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "addUpper",
        "type": "add",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "subLower",
        "type": "sub",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gtHighUpper",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "ltLowLower",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "volMultConst",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 1.5,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "volSMA",
        "type": "sma",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "mulVol",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gtVol",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "maxHigh",
        "type": "max",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "minLow",
        "type": "min",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "subWave",
        "type": "sub",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "divWave",
        "type": "div",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "waveThreshConst",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 0.02,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gtWave",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "adxNode",
        "type": "adx",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "day",
          "interval": 1
        }
      },
      {
        "id": "adxThreshConst",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 25,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gtAdx",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "longAgg",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "shortAgg",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "executor",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "addUpper",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "mulAtr",
          "handle": "result"
        },
        "target": {
          "id": "addUpper",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "subLower",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "mulAtr",
          "handle": "result"
        },
        "target": {
          "id": "subLower",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "h"
        },
        "target": {
          "id": "gtHighUpper",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "addUpper",
          "handle": "result"
        },
        "target": {
          "id": "gtHighUpper",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "l"
        },
        "target": {
          "id": "ltLowLower",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "subLower",
          "handle": "result"
        },
        "target": {
          "id": "ltLowLower",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "v"
        },
        "target": {
          "id": "volSMA",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "volSMA",
          "handle": "result"
        },
        "target": {
          "id": "mulVol",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "volMultConst",
          "handle": "result"
        },
        "target": {
          "id": "mulVol",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "v"
        },
        "target": {
          "id": "gtVol",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "mulVol",
          "handle": "result"
        },
        "target": {
          "id": "gtVol",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "h"
        },
        "target": {
          "id": "maxHigh",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "l"
        },
        "target": {
          "id": "minLow",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "maxHigh",
          "handle": "result"
        },
        "target": {
          "id": "subWave",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "minLow",
          "handle": "result"
        },
        "target": {
          "id": "subWave",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "subWave",
          "handle": "result"
        },
        "target": {
          "id": "divWave",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "divWave",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "divWave",
          "handle": "result"
        },
        "target": {
          "id": "gtWave",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "waveThreshConst",
          "handle": "result"
        },
        "target": {
          "id": "gtWave",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "atr_node",
          "handle": "result"
        },
        "target": {
          "id": "mulAtr",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "multConst",
          "handle": "result"
        },
        "target": {
          "id": "mulAtr",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "adxNode",
          "handle": "result"
        },
        "target": {
          "id": "gtAdx",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "adxThreshConst",
          "handle": "result"
        },
        "target": {
          "id": "gtAdx",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "gtHighUpper",
          "handle": "result"
        },
        "target": {
          "id": "longAgg",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gtVol",
          "handle": "result"
        },
        "target": {
          "id": "longAgg",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gtWave",
          "handle": "result"
        },
        "target": {
          "id": "longAgg",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gtAdx",
          "handle": "result"
        },
        "target": {
          "id": "longAgg",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "ltLowLower",
          "handle": "result"
        },
        "target": {
          "id": "shortAgg",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gtVol",
          "handle": "result"
        },
        "target": {
          "id": "shortAgg",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gtWave",
          "handle": "result"
        },
        "target": {
          "id": "shortAgg",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gtAdx",
          "handle": "result"
        },
        "target": {
          "id": "shortAgg",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "longAgg",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "shortAgg",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "short"
        }
      }
    ]
  },
  "timestamp": "2025-06-23T15:06:19.309285",
  "tags": [
    "volatility",
    "volume",
    "breakout",
    "technical",
    "strategy"
  ]
}