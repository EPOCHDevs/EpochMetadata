{
  "id": "candle_stick_pattern_trend_reversal_001",
  "name": "Hammer Pattern Trend Reversal Strategy",
  "description": "This algorithm identifies trend reversals by detecting Hammer or Inverted Hammer candlestick patterns. It confirms these patterns with a decrease in the Average True Range over the past 10 bars, and utilizes Bollinger Bands %B to identify oversold or overbought conditions for entry points.",
  "algorithm_type": "CandleStickPattern",
  "prompt": "Create an expert-level PriceAction trading algorithm in Pine Script for the 15-minute timeframe that identifies trend reversals using a combination of the following: detection of a Hammer or Inverted Hammer candlestick pattern confirmed by a decrease in the Average True Range over the past 10 bars, combined with a Bollinger Bands %B falling below 0.1 (oversold) for long entries, and above 0.9 (overbought) for short entries. Entry triggers when price closes above the high of the Hammer candle for longs, and below the low of the Inverted Hammer candle for shorts. Exit positions on a close crossing the 20-period Simple Moving Average or if the Relative Strength Index (14) crosses back above 50 for shorts or below 50 for longs. Include proper stop-loss placement at 1.5 ATR away from entry price.",
  "blueprint": {
    "nodes": [
      {
        "id": "src",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "hammer",
        "type": "hammer",
        "options": [
          {
            "id": "period",
            "value": 10,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_none",
            "value": 0.05,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_short",
            "value": 0.5,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_long",
            "value": 1.4,
            "name": "",
            "isExposed": false
          },
          {
            "id": "wick_none",
            "value": 0.05,
            "name": "",
            "isExposed": false
          },
          {
            "id": "wick_long",
            "value": 0.6,
            "name": "",
            "isExposed": false
          },
          {
            "id": "near",
            "value": 0.3,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "inv_hammer",
        "type": "inverted_hammer",
        "options": [
          {
            "id": "period",
            "value": 10,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_none",
            "value": 0.05,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_short",
            "value": 0.5,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_long",
            "value": 1.4,
            "name": "",
            "isExposed": false
          },
          {
            "id": "wick_none",
            "value": 0.05,
            "name": "",
            "isExposed": false
          },
          {
            "id": "wick_long",
            "value": 0.6,
            "name": "",
            "isExposed": false
          },
          {
            "id": "near",
            "value": 0.3,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "patterns_any",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "atr10",
        "type": "atr",
        "options": [
          {
            "id": "period",
            "value": 10,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "atr_decrease",
        "type": "previous_lt",
        "options": [
          {
            "id": "periods",
            "value": 1,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "bbands",
        "type": "bbands",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          },
          {
            "id": "stddev",
            "value": 2,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "bb_percent",
        "type": "bband_percent",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num_0p1",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 0.1,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "oversold_check",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num_0p9",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 0.9,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "overbought_check",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "long_entry_cond",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "short_entry_cond",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "sma20",
        "type": "sma",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "price_sma_cross",
        "type": "crossany",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "rsi14",
        "type": "rsi",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num_50",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 50,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "rsi_below_50",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "rsi_above_50",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "exit_any",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "executor",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "Exit If Indecisive",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "hammer",
          "handle": "result"
        },
        "target": {
          "id": "patterns_any",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "inv_hammer",
          "handle": "result"
        },
        "target": {
          "id": "patterns_any",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "patterns_any",
          "handle": "result"
        },
        "target": {
          "id": "long_entry_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "patterns_any",
          "handle": "result"
        },
        "target": {
          "id": "short_entry_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "atr10",
          "handle": "result"
        },
        "target": {
          "id": "atr_decrease",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "atr_decrease",
          "handle": "result"
        },
        "target": {
          "id": "long_entry_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "atr_decrease",
          "handle": "result"
        },
        "target": {
          "id": "short_entry_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "bbands",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "bbands",
          "handle": "bbands_lower"
        },
        "target": {
          "id": "bb_percent",
          "handle": "bbands_lower"
        }
      },
      {
        "source": {
          "id": "bbands",
          "handle": "bbands_upper"
        },
        "target": {
          "id": "bb_percent",
          "handle": "bbands_upper"
        }
      },
      {
        "source": {
          "id": "bb_percent",
          "handle": "result"
        },
        "target": {
          "id": "oversold_check",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_0p1",
          "handle": "result"
        },
        "target": {
          "id": "oversold_check",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "bb_percent",
          "handle": "result"
        },
        "target": {
          "id": "overbought_check",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_0p9",
          "handle": "result"
        },
        "target": {
          "id": "overbought_check",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "oversold_check",
          "handle": "result"
        },
        "target": {
          "id": "long_entry_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "overbought_check",
          "handle": "result"
        },
        "target": {
          "id": "short_entry_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "long_entry_cond",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "short_entry_cond",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "short"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "sma20",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "price_sma_cross",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "sma20",
          "handle": "result"
        },
        "target": {
          "id": "price_sma_cross",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "price_sma_cross",
          "handle": "result"
        },
        "target": {
          "id": "exit_any",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "rsi14",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "rsi14",
          "handle": "result"
        },
        "target": {
          "id": "rsi_below_50",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_50",
          "handle": "result"
        },
        "target": {
          "id": "rsi_below_50",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "rsi14",
          "handle": "result"
        },
        "target": {
          "id": "rsi_above_50",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_50",
          "handle": "result"
        },
        "target": {
          "id": "rsi_above_50",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "rsi_below_50",
          "handle": "result"
        },
        "target": {
          "id": "exit_any",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "rsi_above_50",
          "handle": "result"
        },
        "target": {
          "id": "exit_any",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "exit_any",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "close"
        }
      }
    ]
  },
  "timestamp": "2025-06-17T11:24:14.158044",
  "tags": [
    "PriceAction",
    "TrendReversal",
    "CandlestickPatterns",
    "BollingerBands",
    "ATR"
  ]
}