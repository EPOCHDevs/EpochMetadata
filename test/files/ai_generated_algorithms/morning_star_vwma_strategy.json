{
  "id": "algorithm_001",
  "name": "Morning Star VWMA Strategy",
  "description": "This algorithm identifies the 'Morning Star' candlestick pattern on a 15-minute timeframe, which consists of a large bearish candle, a small-bodied candle, and a subsequent large bullish candle. It confirms the pattern's validity using the Volume Weighted Moving Average (VWMA) to enhance entry signals for trading decisions.",
  "algorithm_type": "CandleStickPattern",
  "prompt": "Develop an expert-level TechnicalPattern trading algorithm in Python that identifies and trades the \"Morning Star\" candlestick pattern supplemented with confirmation from the Volume Weighted Moving Average (VWMA) on a 15-minute timeframe. Entry condition: upon detecting a valid Morning Star pattern (a large bearish candle, followed by a small-bodied candle below the prior close, and then a large bullish candle closing above the midpoint of the first candle) coinciding with VWMA trending upwards over the past 5 bars, enter a long position at the next bar open. Exit condition: close the position when the price closes below the 10-period Exponential Moving Average (EMA) on the same timeframe or if a bearish \"Evening Star\" pattern forms. Incorporate stop-loss at 1% below entry price and a trailing stop using the Average True Range (ATR) with a multiplier of 1.5. Provide complete Python pseudocode implementing pattern detection, VWMA trending logic, EMAs, ATR trailing stop, and position management with proper signal generation.",
  "blueprint": {
    "nodes": [
      {
        "id": "src",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "ms",
        "type": "morning_star",
        "options": [
          {
            "id": "period",
            "value": 10,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_none",
            "value": 0.05,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_short",
            "value": 0.5,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_long",
            "value": 1.4,
            "name": "",
            "isExposed": false
          },
          {
            "id": "wick_none",
            "value": 0.05,
            "name": "",
            "isExposed": false
          },
          {
            "id": "wick_long",
            "value": 0.6,
            "name": "",
            "isExposed": false
          },
          {
            "id": "near",
            "value": 0.3,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "es",
        "type": "evening_star",
        "options": [
          {
            "id": "period",
            "value": 10,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_none",
            "value": 0.05,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_short",
            "value": 0.5,
            "name": "",
            "isExposed": false
          },
          {
            "id": "body_long",
            "value": 1.4,
            "name": "",
            "isExposed": false
          },
          {
            "id": "wick_none",
            "value": 0.05,
            "name": "",
            "isExposed": false
          },
          {
            "id": "wick_long",
            "value": 0.6,
            "name": "",
            "isExposed": false
          },
          {
            "id": "near",
            "value": 0.3,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "vw",
        "type": "vwma",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lag5",
        "type": "lag",
        "options": [
          {
            "id": "period",
            "value": 5,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_vw",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "and_entry",
        "type": "logical_and",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "ema10",
        "type": "ema",
        "options": [
          {
            "id": "period",
            "value": 10,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_ce",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "exit_any",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "exec",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "ema10",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "ema10",
          "handle": "result"
        },
        "target": {
          "id": "lt_ce",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "lt_ce",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "vw",
          "handle": "result"
        },
        "target": {
          "id": "lag5",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "vw",
          "handle": "result"
        },
        "target": {
          "id": "gt_vw",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "lag5",
          "handle": "result"
        },
        "target": {
          "id": "gt_vw",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "ms",
          "handle": "result"
        },
        "target": {
          "id": "and_entry",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "gt_vw",
          "handle": "result"
        },
        "target": {
          "id": "and_entry",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "and_entry",
          "handle": "result"
        },
        "target": {
          "id": "exec",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "lt_ce",
          "handle": "result"
        },
        "target": {
          "id": "exit_any",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "es",
          "handle": "result"
        },
        "target": {
          "id": "exit_any",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "exit_any",
          "handle": "result"
        },
        "target": {
          "id": "exec",
          "handle": "close"
        }
      }
    ]
  },
  "timestamp": "2025-06-17T11:04:44.682504",
  "tags": [
    "candle stick",
    "trading",
    "VWMA",
    "technical analysis",
    "pattern recognition"
  ]
}