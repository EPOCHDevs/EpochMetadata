{
  "id": "algorithm-vwap-rsi-contrarian-strategy",
  "name": "VWAP RSI Contrarian Strategy",
  "description": "This strategy utilizes the VWAP and RSI indicators to identify contrarian pullback opportunities in the market. It aims to capitalize on price reversals when the market is overbought or oversold, enhancing trading decisions with a systematic approach.",
  "algorithm_type": "TechnicalPattern",
  "prompt": "// @version=5\nstrategy(\"VWAP-RSI Contrarian Pullback Strategy\", overlay=true, initial_capital=10000, default_qty_type=strategy.percent_of_equity, default_qty_value=10)\n\n// Input parameters\nrsi_length      = input.int(7, minval=2, title=\"RSI Length\")\nrsi_oversold    = input.int(20, minval=1, title=\"RSI Oversold Level\")\nrsi_overbought  = input.int(80, minval=1, title=\"RSI Overbought Level\")\npullback_len    = input.int(3, minval=1, title=\"Pullback Bars\")\npullback_min    = input.float(0.8, minval=0.5, maxval=0.99, step=0.01, title=\"Pullback Multiplier to VWAP\")\npullback_max    = input.float(1.2, minval=1.01, maxval=2, step=0.01, title=\"Pullback Multiplier to VWAP\")\nstop_loss_perc  = input.float(1.0, minval=0.1, maxval=10, step=0.1, title=\"Stop Loss %\")\ntake_profit_perc= input.float(2.0, minval=0.1, maxval=20, step=0.1, title=\"Take Profit %\")\n\n// Indicator calculations\nvwap_val  = ta.vwap\nrsi_val   = ta.rsi(close, rsi_length)\n\n// Pullback: recent rapid deviation and quick return toward VWAP\npullback_down = close < vwap_val * pullback_min and ta.highest(close, pullback_len)[1] > vwap_val\npullback_up   = close > vwap_val * pullback_max and ta.lowest(close, pullback_len)[1] < vwap_val\n\n// Entry conditions\nlong_condition  = pullback_down and rsi_val < rsi_oversold\nshort_condition = pullback_up   and rsi_val > rsi_overbought\n\n// Stop Loss/Take Profit logic\nlong_stop  = close * (1 - stop_loss_perc/100)\nlong_limit = close * (1 + take_profit_perc/100)\nshort_stop = close * (1 + stop_loss_perc/100)\nshort_limit= close * (1 - take_profit_perc/100)\n\n// Execute trades\nif long_condition\n    strategy.entry(\"Long\", strategy.long, stop=na, limit=na)\n    strategy.exit(\"LongExit\", from_entry=\"Long\", stop=long_stop, limit=long_limit)\n\nif short_condition\n    strategy.entry(\"Short\", strategy.short, stop=na, limit=na)\n    strategy.exit(\"ShortExit\", from_entry=\"Short\", stop=short_stop, limit=short_limit)\n\n// Plot VWAP and RSI signals\nplot(vwap_val, color=color.orange, linewidth=2, title=\"VWAP\")\nplotshape(long_condition, style=shape.triangleup, color=color.green, location=location.belowbar, size=size.tiny, title=\"Long Entry\")\nplotshape(short_condition, style=shape.triangledown, color=color.red, location=location.abovebar, size=size.tiny, title=\"Short Entry\")\nplot(rsi_val, color=color.blue, title=\"RSI (lower)\", linewidth=1, offset=-1)\nhline(rsi_oversold, \"RSI Oversold\", color=color.green)\nhline(rsi_overbought, \"RSI Overbought\", color=color.red)",
  "blueprint": {
    "nodes": [
      {
        "id": "m1",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "wc1",
        "type": "wcprice",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "rsi1",
        "type": "rsi",
        "options": [
          {
            "id": "period",
            "value": 7,
            "name": "RSI Length",
            "isExposed": true
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num_os",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 20,
            "name": "RSI Oversold",
            "isExposed": true
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num_ob",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 80,
            "name": "RSI Overbought",
            "isExposed": true
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num_pb_min",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 0.8,
            "name": "Pullback Min",
            "isExposed": true
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num_pb_max",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 1.2,
            "name": "Pullback Max",
            "isExposed": true
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "mul_min",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "mul_max",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_price",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_price",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_rsi",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_rsi",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "and_long",
        "type": "logical_and",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "and_short",
        "type": "logical_and",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "executor",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "m1",
          "handle": "c"
        },
        "target": {
          "id": "rsi1",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "m1",
          "handle": "c"
        },
        "target": {
          "id": "lt_price",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "wc1",
          "handle": "result"
        },
        "target": {
          "id": "mul_min",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_pb_min",
          "handle": "result"
        },
        "target": {
          "id": "mul_min",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "mul_min",
          "handle": "result"
        },
        "target": {
          "id": "lt_price",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "wc1",
          "handle": "result"
        },
        "target": {
          "id": "mul_max",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_pb_max",
          "handle": "result"
        },
        "target": {
          "id": "mul_max",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "mul_max",
          "handle": "result"
        },
        "target": {
          "id": "gt_price",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "m1",
          "handle": "c"
        },
        "target": {
          "id": "gt_price",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "rsi1",
          "handle": "result"
        },
        "target": {
          "id": "lt_rsi",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_os",
          "handle": "result"
        },
        "target": {
          "id": "lt_rsi",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "rsi1",
          "handle": "result"
        },
        "target": {
          "id": "gt_rsi",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_ob",
          "handle": "result"
        },
        "target": {
          "id": "gt_rsi",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "lt_price",
          "handle": "result"
        },
        "target": {
          "id": "and_long",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "lt_rsi",
          "handle": "result"
        },
        "target": {
          "id": "and_long",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "gt_price",
          "handle": "result"
        },
        "target": {
          "id": "and_short",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "gt_rsi",
          "handle": "result"
        },
        "target": {
          "id": "and_short",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "and_long",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "and_short",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "short"
        }
      }
    ]
  },
  "timestamp": "2025-06-23T14:59:55.626551",
  "tags": [
    "VWAP",
    "RSI",
    "Contrarian",
    "Pullback",
    "TechnicalPattern"
  ]
}