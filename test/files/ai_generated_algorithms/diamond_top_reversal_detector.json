{
  "id": "algorithm_001",
  "name": "Diamond Top Reversal Detector",
  "description": "This algorithm identifies the 'Diamond Top' reversal pattern on 15-minute candlesticks by detecting four key swing points: a first local high, a lower low, a higher high (not exceeding the initial high), and a second lower low (not breaking below the first low). It aims to signal potential trend reversals in price action, providing traders with valuable insights for decision-making.",
  "algorithm_type": "PriceAction",
  "prompt": "Create a TechnicalPattern trading algorithm at expert complexity in Python that detects the \u201cDiamond Top\u201d reversal formation on 15-minute candlesticks. The algorithm should:  \n- Identify four swing points forming the pattern: first local high, lower low, higher high (not exceeding the initial high), and lower low (not breaking below the first low), resembling a diamond shape in price action over a period of 20\u201340 bars.  \n- Confirm the pattern with at least 30% above-average volume (relative to a 30-bar SMA of volume) during both the formation and at the breakdown.  \n- Enter a short trade when the price closes below the pattern's lower boundary (rightmost swing low) with increased volume confirmation.  \n- Set stop-loss above the last swing high, and take profit at 2x the height of the diamond projected downward.  \n- Avoid overlapping patterns; ignore signals within 30 bars of the previous trade.",
  "blueprint": {
    "nodes": [
      {
        "id": "src",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "sma30v",
        "type": "sma",
        "options": [
          {
            "id": "period",
            "value": 30,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "const1_3",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 1.3,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "mul_thr",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "vol_above",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "prevHL",
        "type": "previous_high_low",
        "options": [
          {
            "id": "interval",
            "value": 1,
            "name": "",
            "isExposed": false
          },
          {
            "id": "type",
            "value": "day",
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "breakdown",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "entryCond",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "executor",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "src",
          "handle": "v"
        },
        "target": {
          "id": "sma30v",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "sma30v",
          "handle": "result"
        },
        "target": {
          "id": "mul_thr",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "const1_3",
          "handle": "result"
        },
        "target": {
          "id": "mul_thr",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "v"
        },
        "target": {
          "id": "vol_above",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "mul_thr",
          "handle": "result"
        },
        "target": {
          "id": "vol_above",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "breakdown",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "prevHL",
          "handle": "previous_low"
        },
        "target": {
          "id": "breakdown",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "vol_above",
          "handle": "result"
        },
        "target": {
          "id": "entryCond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "breakdown",
          "handle": "result"
        },
        "target": {
          "id": "entryCond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "entryCond",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "short"
        }
      }
    ]
  },
  "timestamp": "2025-06-17T11:05:23.933093",
  "tags": [
    "PriceAction",
    "TechnicalPattern",
    "DiamondTop",
    "Reversal",
    "TradingAlgorithm"
  ]
}