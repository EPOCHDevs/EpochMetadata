{
  "id": "momentum_trend_strategy_001",
  "name": "Momentum Trend Strategy",
  "description": "This strategy utilizes exponential moving averages (EMA) and triple exponential moving averages (TEMA) to identify momentum trends in the market. By analyzing the close prices, it aims to capture potential entry and exit points based on the strength of the trend.",
  "algorithm_type": "Momentum",
  "prompt": "import pandas as pd\nimport numpy as np\n\ndef trading_strategy(data):\n    # Calculate indicators\n    data['ema_13'] = data['close'].ewm(span=13, adjust=False).mean()\n    data['tema_8'] = 3 * data['close'].ewm(span=8, adjust=False).mean() \\\n                      - 3 * data['close'].ewm(span=8, adjust=False).mean().ewm(span=8, adjust=False).mean() \\\n                      + data['close'].ewm(span=8, adjust=False).mean().ewm(span=8, adjust=False).mean().ewm(span=8, adjust=False).mean()\n    data['willr'] = williams_r(data, 10)\n    data['obv'] = obv(data)\n    data['obv_ema_7'] = data['obv'].ewm(span=7, adjust=False).mean()\n\n    # Compute sudden volatility spike: 5-period ATR / 20-period ATR\n    data['atr_5'] = atr(data, 5)\n    data['atr_20'] = atr(data, 20)\n    data['atr_spike'] = data['atr_5'] / data['atr_20']\n\n    # Generate signals\n    data['signal'] = 0\n\n    # Unique Logic: Enter long if:\n    # - TEMA(8) crosses above EMA(13)\n    # - Williams %R crosses from oversold (-80) to > -50 (momentum reversal)\n    # - OBV is above its EMA(7) (bullish volume confirmation)\n    # - ATR spike > 1.25 (recent volatility expansion)\n    long_condition = (\n        (data['tema_8'].shift(1) < data['ema_13'].shift(1)) &\n        (data['tema_8'] > data['ema_13']) &\n        (data['willr'].shift(1) < -80) & (data['willr'] > -50) &\n        (data['obv'] > data['obv_ema_7']) &\n        (data['atr_spike'] > 1.25)\n    )\n\n    # Enter short if:\n    # - TEMA(8) crosses below EMA(13)\n    # - Williams %R crosses from overbought (-20) to < -50 (momentum reversal)\n    # - OBV is below its EMA(7) (bearish volume confirmation)\n    # - ATR spike > 1.25 (recent volatility expansion)\n    short_condition = (\n        (data['tema_8'].shift(1) > data['ema_13'].shift(1)) &\n        (data['tema_8'] < data['ema_13']) &\n        (data['willr'].shift(1) > -20) & (data['willr'] < -50) &\n        (data['obv'] < data['obv_ema_7']) &\n        (data['atr_spike'] > 1.25)\n    )\n\n    data.loc[long_condition, 'signal'] = 1\n    data.loc[short_condition, 'signal'] = -1\n\n    return data\n\ndef williams_r(data, period=14):\n    high = data['high'].rolling(period).max()\n    low = data['low'].rolling(period).min()\n    wr = -100 * (data['close'] - high) / (high - low)\n    return wr\n\ndef obv(data):\n    obv = [0]\n    for i in range(1, len(data)):\n        if data['close'].iloc[i] > data['close'].iloc[i-1]:\n            obv.append(obv[-1] + data['volume'].iloc[i])\n        elif data['close'].iloc[i] < data['close'].iloc[i-1]:\n            obv.append(obv[-1] - data['volume'].iloc[i])\n        else:\n            obv.append(obv[-1])\n    return pd.Series(obv, index=data.index)\n\ndef atr(data, period=14):\n    high_low = data['high'] - data['low']\n    high_close = np.abs(data['high'] - data['close'].shift(1))\n    low_close = np.abs(data['low'] - data['close'].shift(1))\n    ranges = pd.concat([high_low, high_close, low_close], axis=1)\n    true_range = ranges.max(axis=1)\n    return true_range.rolling(period).mean()",
  "blueprint": {
    "nodes": [
      {
        "id": "n1",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "n2",
        "type": "ema",
        "options": [
          {
            "id": "period",
            "value": 13,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n3",
        "type": "tema",
        "options": [
          {
            "id": "period",
            "value": 8,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n4",
        "type": "crossover",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n5",
        "type": "crossover",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n6",
        "type": "willr",
        "options": [
          {
            "id": "period",
            "value": 10,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "n7",
        "type": "lag",
        "options": [
          {
            "id": "period",
            "value": 1,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n8",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": -80,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n9",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": -50,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n10",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": -20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n11",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 1.25,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n12",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n13",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n14",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n15",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n16",
        "type": "obv",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "n17",
        "type": "ema",
        "options": [
          {
            "id": "period",
            "value": 7,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n18",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n19",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n20",
        "type": "atr",
        "options": [
          {
            "id": "period",
            "value": 5,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "n21",
        "type": "atr",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "n22",
        "type": "div",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n23",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n24",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n25",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "n26",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "n1",
          "handle": "c"
        },
        "target": {
          "id": "n2",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n1",
          "handle": "c"
        },
        "target": {
          "id": "n3",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n3",
          "handle": "result"
        },
        "target": {
          "id": "n4",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n2",
          "handle": "result"
        },
        "target": {
          "id": "n4",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n2",
          "handle": "result"
        },
        "target": {
          "id": "n5",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n3",
          "handle": "result"
        },
        "target": {
          "id": "n5",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n6",
          "handle": "result"
        },
        "target": {
          "id": "n7",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n7",
          "handle": "result"
        },
        "target": {
          "id": "n12",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n8",
          "handle": "result"
        },
        "target": {
          "id": "n12",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n6",
          "handle": "result"
        },
        "target": {
          "id": "n13",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n9",
          "handle": "result"
        },
        "target": {
          "id": "n13",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n7",
          "handle": "result"
        },
        "target": {
          "id": "n14",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n10",
          "handle": "result"
        },
        "target": {
          "id": "n14",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n6",
          "handle": "result"
        },
        "target": {
          "id": "n15",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n9",
          "handle": "result"
        },
        "target": {
          "id": "n15",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n16",
          "handle": "result"
        },
        "target": {
          "id": "n17",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n16",
          "handle": "result"
        },
        "target": {
          "id": "n18",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n17",
          "handle": "result"
        },
        "target": {
          "id": "n18",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n16",
          "handle": "result"
        },
        "target": {
          "id": "n19",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n17",
          "handle": "result"
        },
        "target": {
          "id": "n19",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n20",
          "handle": "result"
        },
        "target": {
          "id": "n22",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n21",
          "handle": "result"
        },
        "target": {
          "id": "n22",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n22",
          "handle": "result"
        },
        "target": {
          "id": "n23",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "n11",
          "handle": "result"
        },
        "target": {
          "id": "n23",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "n4",
          "handle": "result"
        },
        "target": {
          "id": "n24",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n12",
          "handle": "result"
        },
        "target": {
          "id": "n24",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n13",
          "handle": "result"
        },
        "target": {
          "id": "n24",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n18",
          "handle": "result"
        },
        "target": {
          "id": "n24",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n23",
          "handle": "result"
        },
        "target": {
          "id": "n24",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n5",
          "handle": "result"
        },
        "target": {
          "id": "n25",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n14",
          "handle": "result"
        },
        "target": {
          "id": "n25",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n15",
          "handle": "result"
        },
        "target": {
          "id": "n25",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n19",
          "handle": "result"
        },
        "target": {
          "id": "n25",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n23",
          "handle": "result"
        },
        "target": {
          "id": "n25",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "n24",
          "handle": "result"
        },
        "target": {
          "id": "n26",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "n25",
          "handle": "result"
        },
        "target": {
          "id": "n26",
          "handle": "short"
        }
      }
    ]
  },
  "timestamp": "2025-06-23T15:10:58.305014",
  "tags": [
    "momentum",
    "trading",
    "strategy",
    "technical",
    "indicators"
  ]
}