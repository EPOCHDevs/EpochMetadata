{
  "id": "mean_reverting_keltner_cci_vwma",
  "name": "Keltner CCI VWMA Mean Reversion",
  "description": "This algorithm utilizes Keltner Channels, a 14-period Commodity Channel Index (CCI), and a 20-period Volume Weighted Moving Average (VWMA) to identify mean-reverting trading opportunities. It enters long positions when the price closes above the upper Keltner Channel while confirming with CCI and VWMA indicators.",
  "algorithm_type": "MeanReverting",
  "prompt": "Design an expert-level MeanReverting trading algorithm in Python that operates on 15-minute bars. Use the following indicators: Keltner Channels (with a 20-period Exponential Moving Average and an Average True Range multiplier of 1.5), a 14-period Commodity Channel Index (CCI), and volume weighted moving average (VWMA) over 20 periods. Define entry rules: enter a long position when price closes below the lower Keltner Channel, CCI is below -100, and volume exceeds the 20-period VWMA; enter a short position when price closes above the upper Keltner Channel, CCI is above +100, and volume exceeds the VWMA. Exit positions when price reverts and closes inside the Keltner Channels or when CCI crosses back toward zero. Include stop-loss at 1.5 times the Average True Range and take-profit at 2 times the stop-loss distance. Provide well-commented Python code structure for backtesting and real-time signal generation.",
  "blueprint": {
    "nodes": [
      {
        "id": "src",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "ema20",
        "type": "ema",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "atr20",
        "type": "atr",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num15",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 1.5,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "atrMul",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "upperBand",
        "type": "add",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lowerBand",
        "type": "sub",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cci14",
        "type": "cci",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "vwma20",
        "type": "vwma",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "neg100",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": -100,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "pos100",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 100,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "volAbove",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "closeBelowLower",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cciBelow",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "longAll",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "closeAboveUpper",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cciAbove",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "shortAll",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "closeGTLower",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "closeLTUpper",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "insideChannels",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "zeroConst",
        "type": "zero",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cciCrossZero",
        "type": "crossany",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "exitAny",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "exec",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "ema20",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "atr20",
          "handle": "result"
        },
        "target": {
          "id": "atrMul",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num15",
          "handle": "result"
        },
        "target": {
          "id": "atrMul",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "ema20",
          "handle": "result"
        },
        "target": {
          "id": "upperBand",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "atrMul",
          "handle": "result"
        },
        "target": {
          "id": "upperBand",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "ema20",
          "handle": "result"
        },
        "target": {
          "id": "lowerBand",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "atrMul",
          "handle": "result"
        },
        "target": {
          "id": "lowerBand",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "v"
        },
        "target": {
          "id": "volAbove",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "vwma20",
          "handle": "result"
        },
        "target": {
          "id": "volAbove",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "closeBelowLower",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "lowerBand",
          "handle": "result"
        },
        "target": {
          "id": "closeBelowLower",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "cci14",
          "handle": "result"
        },
        "target": {
          "id": "cciBelow",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "neg100",
          "handle": "result"
        },
        "target": {
          "id": "cciBelow",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "closeBelowLower",
          "handle": "result"
        },
        "target": {
          "id": "longAll",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cciBelow",
          "handle": "result"
        },
        "target": {
          "id": "longAll",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "volAbove",
          "handle": "result"
        },
        "target": {
          "id": "longAll",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "closeAboveUpper",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "upperBand",
          "handle": "result"
        },
        "target": {
          "id": "closeAboveUpper",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "cci14",
          "handle": "result"
        },
        "target": {
          "id": "cciAbove",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "pos100",
          "handle": "result"
        },
        "target": {
          "id": "cciAbove",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "closeAboveUpper",
          "handle": "result"
        },
        "target": {
          "id": "shortAll",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cciAbove",
          "handle": "result"
        },
        "target": {
          "id": "shortAll",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "volAbove",
          "handle": "result"
        },
        "target": {
          "id": "shortAll",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "closeGTLower",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "lowerBand",
          "handle": "result"
        },
        "target": {
          "id": "closeGTLower",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "closeLTUpper",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "upperBand",
          "handle": "result"
        },
        "target": {
          "id": "closeLTUpper",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "closeGTLower",
          "handle": "result"
        },
        "target": {
          "id": "insideChannels",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "closeLTUpper",
          "handle": "result"
        },
        "target": {
          "id": "insideChannels",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cci14",
          "handle": "result"
        },
        "target": {
          "id": "cciCrossZero",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "zeroConst",
          "handle": "result"
        },
        "target": {
          "id": "cciCrossZero",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "insideChannels",
          "handle": "result"
        },
        "target": {
          "id": "exitAny",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cciCrossZero",
          "handle": "result"
        },
        "target": {
          "id": "exitAny",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "longAll",
          "handle": "result"
        },
        "target": {
          "id": "exec",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "shortAll",
          "handle": "result"
        },
        "target": {
          "id": "exec",
          "handle": "short"
        }
      },
      {
        "source": {
          "id": "exitAny",
          "handle": "result"
        },
        "target": {
          "id": "exec",
          "handle": "close"
        }
      }
    ]
  },
  "timestamp": "2025-06-17T11:16:54.144789",
  "tags": [
    "MeanReverting",
    "KeltnerChannels",
    "CCI",
    "VWMA",
    "TradingStrategy"
  ]
}