{
  "id": "momentum-001",
  "name": "Volatility-Filtered Triple EMA Momentum",
  "description": "This strategy utilizes a combination of three exponential moving averages (EMAs) to identify momentum trends while filtering out volatility. It incorporates a range expansion mechanism to enhance entry and exit points based on market conditions.",
  "algorithm_type": "Momentum",
  "prompt": "//@version=5\nstrategy(\"Volatility-Filtered Triple-EMA Momentum + Range Expansion\", overlay=true)\n\n// Inputs\nlen1 = input.int(8, \"Fast EMA Length\", minval=1)\nlen2 = input.int(21, \"Mid EMA Length\", minval=1)\nlen3 = input.int(55, \"Slow EMA Length\", minval=1)\natr_len = input.int(14, \"ATR Length\", minval=1)\nrange_len = input.int(20, \"Range Expansion Lookback\", minval=1)\nvolatility_filter_mult = input.float(1.5, \"Volatility Filter Multiplier\", step=0.1)\nrange_expansion_mult = input.float(1.3, \"Range Expansion Multiplier\", step=0.1)\n\n// Triple EMAs\nema_fast = ta.ema(close, len1)\nema_mid = ta.ema(close, len2)\nema_slow = ta.ema(close, len3)\n\n// ATR-based Volatility Filter\natr = ta.atr(atr_len)\natr_ma = ta.sma(atr, atr_len)\nvolatility_filter = atr > volatility_filter_mult * atr_ma\n\n// Range Expansion Detector: True Range sum over range_len\ntr_sum = ta.sum(ta.tr, range_len)\ntr_ma = ta.sma(ta.tr, range_len)\nrange_expansion = tr_sum > range_expansion_mult * tr_ma\n\n// Momentum: EMA alignment and momentum direction\nema_bull = (ema_fast > ema_mid) and (ema_mid > ema_slow)\nema_bear = (ema_fast < ema_mid) and (ema_mid < ema_slow)\n\nmomentum_bull = close > ema_fast\nmomentum_bear = close < ema_fast\n\n// Entry conditions\nlong_cond = ema_bull and momentum_bull and volatility_filter and range_expansion and ta.crossover(ema_fast, ema_mid)\nshort_cond = ema_bear and momentum_bear and volatility_filter and range_expansion and ta.crossunder(ema_fast, ema_mid)\n\n// Exit conditions: cross back or momentum fade\nlong_exit = ta.crossunder(ema_fast, ema_mid) or close < ema_fast\nshort_exit = ta.crossover(ema_fast, ema_mid) or close > ema_fast\n\n// Execute entries\nif (long_cond)\n    strategy.entry(\"Long\", strategy.long)\nif (short_cond)\n    strategy.entry(\"Short\", strategy.short)\n\n// Execute exits\nif (long_exit)\n    strategy.close(\"Long\")\nif (short_exit)\n    strategy.close(\"Short\")\n\n// Plot EMAs\nplot(ema_fast, title=\"EMA Fast\", color=color.new(color.green,0))\nplot(ema_mid, title=\"EMA Mid\", color=color.new(color.orange,0))\nplot(ema_slow, title=\"EMA Slow\", color=color.new(color.red,0))\n\n// Plot ATR and filtered threshold for visual aid\nplot(volatility_filter ? atr : na, title=\"Filtered ATR (Volatility)\", color=color.new(color.blue,0))\nhline(volatility_filter_mult * atr_ma, \"Vol Filter Threshold\", color=color.blue, linestyle=hline.style_dashed)",
  "blueprint": {
    "nodes": [
      {
        "id": "md",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "ema_fast",
        "type": "ema",
        "options": [
          {
            "id": "period",
            "value": 8,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "ema_mid",
        "type": "ema",
        "options": [
          {
            "id": "period",
            "value": 21,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "ema_slow",
        "type": "ema",
        "options": [
          {
            "id": "period",
            "value": 55,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "atr",
        "type": "atr",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "atr_sma",
        "type": "sma",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num_vf",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 1.5,
            "name": "Volatility Mult",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "mul_vf",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_vf",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "tr",
        "type": "tr",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": {
          "type": "minute",
          "interval": 1
        }
      },
      {
        "id": "tr_sum",
        "type": "sum",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "tr_ma",
        "type": "sma",
        "options": [
          {
            "id": "period",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num_re",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 1.3,
            "name": "Range Mult",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "mul_re",
        "type": "mul",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_re",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_efm",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_ems",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "and_bull",
        "type": "logical_and",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_efm",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_ems",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "and_bear",
        "type": "logical_and",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_close_fast",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_close_fast",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "crossover_fast_mid",
        "type": "crossover",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "crossover_mid_fast",
        "type": "crossover",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "long_cond",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "short_cond",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "long_exit",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "short_exit",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "exit_any",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "executor",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "ema_fast",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "ema_mid",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "ema_slow",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "atr",
          "handle": "result"
        },
        "target": {
          "id": "atr_sma",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "atr_sma",
          "handle": "result"
        },
        "target": {
          "id": "mul_vf",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_vf",
          "handle": "result"
        },
        "target": {
          "id": "mul_vf",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "atr",
          "handle": "result"
        },
        "target": {
          "id": "gt_vf",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "mul_vf",
          "handle": "result"
        },
        "target": {
          "id": "gt_vf",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "tr",
          "handle": "result"
        },
        "target": {
          "id": "tr_sum",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "tr",
          "handle": "result"
        },
        "target": {
          "id": "tr_ma",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "tr_ma",
          "handle": "result"
        },
        "target": {
          "id": "mul_re",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num_re",
          "handle": "result"
        },
        "target": {
          "id": "mul_re",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "tr_sum",
          "handle": "result"
        },
        "target": {
          "id": "gt_re",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "mul_re",
          "handle": "result"
        },
        "target": {
          "id": "gt_re",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "ema_fast",
          "handle": "result"
        },
        "target": {
          "id": "gt_efm",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "ema_mid",
          "handle": "result"
        },
        "target": {
          "id": "gt_efm",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "ema_mid",
          "handle": "result"
        },
        "target": {
          "id": "gt_ems",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "ema_slow",
          "handle": "result"
        },
        "target": {
          "id": "gt_ems",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "gt_efm",
          "handle": "result"
        },
        "target": {
          "id": "and_bull",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "gt_ems",
          "handle": "result"
        },
        "target": {
          "id": "and_bull",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "ema_fast",
          "handle": "result"
        },
        "target": {
          "id": "lt_efm",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "ema_mid",
          "handle": "result"
        },
        "target": {
          "id": "lt_efm",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "ema_mid",
          "handle": "result"
        },
        "target": {
          "id": "lt_ems",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "ema_slow",
          "handle": "result"
        },
        "target": {
          "id": "lt_ems",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "lt_efm",
          "handle": "result"
        },
        "target": {
          "id": "and_bear",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "lt_ems",
          "handle": "result"
        },
        "target": {
          "id": "and_bear",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "gt_close_fast",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "ema_fast",
          "handle": "result"
        },
        "target": {
          "id": "gt_close_fast",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "lt_close_fast",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "ema_fast",
          "handle": "result"
        },
        "target": {
          "id": "lt_close_fast",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "ema_fast",
          "handle": "result"
        },
        "target": {
          "id": "crossover_fast_mid",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "ema_mid",
          "handle": "result"
        },
        "target": {
          "id": "crossover_fast_mid",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "ema_mid",
          "handle": "result"
        },
        "target": {
          "id": "crossover_mid_fast",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "ema_fast",
          "handle": "result"
        },
        "target": {
          "id": "crossover_mid_fast",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "and_bull",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_close_fast",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_vf",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_re",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "crossover_fast_mid",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "and_bear",
          "handle": "result"
        },
        "target": {
          "id": "short_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "lt_close_fast",
          "handle": "result"
        },
        "target": {
          "id": "short_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_vf",
          "handle": "result"
        },
        "target": {
          "id": "short_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_re",
          "handle": "result"
        },
        "target": {
          "id": "short_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "crossover_mid_fast",
          "handle": "result"
        },
        "target": {
          "id": "short_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "crossover_mid_fast",
          "handle": "result"
        },
        "target": {
          "id": "long_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "lt_close_fast",
          "handle": "result"
        },
        "target": {
          "id": "long_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "crossover_fast_mid",
          "handle": "result"
        },
        "target": {
          "id": "short_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_close_fast",
          "handle": "result"
        },
        "target": {
          "id": "short_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "long_exit",
          "handle": "result"
        },
        "target": {
          "id": "exit_any",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "short_exit",
          "handle": "result"
        },
        "target": {
          "id": "exit_any",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "long_cond",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "short_cond",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "short"
        }
      },
      {
        "source": {
          "id": "exit_any",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "close"
        }
      }
    ]
  },
  "timestamp": "2025-06-23T15:45:02.505515",
  "tags": [
    "momentum",
    "EMA",
    "volatility",
    "strategy",
    "technical"
  ]
}