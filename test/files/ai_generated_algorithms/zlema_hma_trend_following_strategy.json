{
  "id": "zlema_hma_trend_following_strategy",
  "name": "ZLEMA HMA Trend Following Strategy",
  "description": "This algorithm utilizes a combination of the Zero-Lag Exponential Moving Average (ZLEMA) and the Hull Moving Average (HMA) to identify trend direction on a 4-hour timeframe. It executes long trades when the ZLEMA is above the HMA and short trades when the ZLEMA is below the HMA, ensuring a systematic approach to trend following.",
  "algorithm_type": "TrendFollowing",
  "prompt": "Create an expert-level TrendFollowing trading algorithm in Pine Script that operates on a 4-hour timeframe. Use a combination of Zero-Lag Exponential Moving Average (ZLEMA) with a period of 34 and the Hull Moving Average (HMA) with a period of 21 to identify the trend direction\u2014enter long trades only when ZLEMA34 is above HMA21 and short trades when ZLEMA34 is below HMA21. Confirm entry signals with the Average Directional Movement Index (ADX) above 25 to ensure a strong trend. For entry timing, use a crossover of the Weighted Close Price (WC) above ZLEMA34 for longs and below for shorts. Implement exit conditions using a 14-period Average True Range (ATR) trailing stop set at 2 ATR from the entry price, and an opposite crossover signal of Weighted Close Price against ZLEMA34 to close positions early. Include volume confirmation by requiring the On Balance Volume (OBV) to confirm the direction of the trade at entry. The strategy should reject trades if ADX falls below 20 after entry. Provide all entry, exit, and stop calculations explicitly in the script.",
  "blueprint": {
    "nodes": [
      {
        "id": "src",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "wc",
        "type": "wcprice",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "zle",
        "type": "zlema",
        "options": [
          {
            "id": "period",
            "value": 34,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "hma",
        "type": "hma",
        "options": [
          {
            "id": "period",
            "value": 21,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "adx",
        "type": "adx",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "obv",
        "type": "obv",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num25",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 25,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "num20",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_adx_25",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lte_adx_20",
        "type": "lte",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_trend",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_trend",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cross_up",
        "type": "crossover",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cross_down",
        "type": "crossover",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "prev_gt_obv",
        "type": "previous_gt",
        "options": [
          {
            "id": "periods",
            "value": 1,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "prev_lt_obv",
        "type": "previous_lt",
        "options": [
          {
            "id": "periods",
            "value": 1,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "long_cond",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "short_cond",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "close_cond",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "trade_exec",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "Exit If Indecisive",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "zero_const",
        "type": "zero",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_close_0",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "wc",
          "handle": "result"
        },
        "target": {
          "id": "zle",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "wc",
          "handle": "result"
        },
        "target": {
          "id": "hma",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "zle",
          "handle": "result"
        },
        "target": {
          "id": "gt_trend",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "hma",
          "handle": "result"
        },
        "target": {
          "id": "gt_trend",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "zle",
          "handle": "result"
        },
        "target": {
          "id": "lt_trend",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "hma",
          "handle": "result"
        },
        "target": {
          "id": "lt_trend",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "adx",
          "handle": "result"
        },
        "target": {
          "id": "gt_adx_25",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num25",
          "handle": "result"
        },
        "target": {
          "id": "gt_adx_25",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "adx",
          "handle": "result"
        },
        "target": {
          "id": "lte_adx_20",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "num20",
          "handle": "result"
        },
        "target": {
          "id": "lte_adx_20",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "wc",
          "handle": "result"
        },
        "target": {
          "id": "cross_up",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "zle",
          "handle": "result"
        },
        "target": {
          "id": "cross_up",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "zle",
          "handle": "result"
        },
        "target": {
          "id": "cross_down",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "wc",
          "handle": "result"
        },
        "target": {
          "id": "cross_down",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "obv",
          "handle": "result"
        },
        "target": {
          "id": "prev_gt_obv",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "obv",
          "handle": "result"
        },
        "target": {
          "id": "prev_lt_obv",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_trend",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_adx_25",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cross_up",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "prev_gt_obv",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "lt_trend",
          "handle": "result"
        },
        "target": {
          "id": "short_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_adx_25",
          "handle": "result"
        },
        "target": {
          "id": "short_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cross_down",
          "handle": "result"
        },
        "target": {
          "id": "short_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "prev_lt_obv",
          "handle": "result"
        },
        "target": {
          "id": "short_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cross_down",
          "handle": "result"
        },
        "target": {
          "id": "close_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cross_up",
          "handle": "result"
        },
        "target": {
          "id": "close_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "lte_adx_20",
          "handle": "result"
        },
        "target": {
          "id": "close_cond",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "long_cond",
          "handle": "result"
        },
        "target": {
          "id": "trade_exec",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "short_cond",
          "handle": "result"
        },
        "target": {
          "id": "trade_exec",
          "handle": "short"
        }
      },
      {
        "source": {
          "id": "close_cond",
          "handle": "result"
        },
        "target": {
          "id": "trade_exec",
          "handle": "close"
        }
      },
      {
        "source": {
          "id": "src",
          "handle": "c"
        },
        "target": {
          "id": "gt_close_0",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "zero_const",
          "handle": "result"
        },
        "target": {
          "id": "gt_close_0",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "gt_close_0",
          "handle": "result"
        },
        "target": {
          "id": "long_cond",
          "handle": "*"
        }
      }
    ]
  },
  "timestamp": "2025-06-17T10:46:14.578491",
  "tags": [
    "trend following",
    "ZLEMA",
    "HMA",
    "Pine Script",
    "4-hour timeframe"
  ]
}