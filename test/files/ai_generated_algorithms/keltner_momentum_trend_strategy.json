{
  "id": "keltner_momentum_trend_strategy",
  "name": "Keltner Momentum Trend Strategy",
  "description": "This algorithm employs a Trend Following strategy on the 4-hour timeframe, utilizing Keltner Channels and the Chande Momentum Oscillator for entry signals. A buy signal is generated when the price closes above the upper Keltner Channel and the CMO crosses above +30, while a sell signal is triggered under the opposite conditions.",
  "algorithm_type": "TrendFollowing",
  "prompt": "Create an expert-level Pine Script algorithm for a TrendFollowing strategy on the 4-hour timeframe, combining Price Action and Keltner Channels with momentum confirmation. Entries: Generate a buy signal when price closes above the upper Keltner Channel (using a 20-period EMA and ATR multiplier of 2) and the Chande Momentum Oscillator (CMO, period 14) crosses above +30; generate a sell signal when price closes below the lower Keltner Channel and the CMO crosses below -30. Hold the position until a close back inside the Keltner Channel, or until the CMO crosses back below +20 (for longs) or above -20 (for shorts). Include clear code for plotting signals and backtesting logic.",
  "blueprint": {
    "nodes": [
      {
        "id": "md",
        "type": "market_data_source",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "kc",
        "type": "keltner_channels",
        "options": [
          {
            "id": "roll_period",
            "value": 20,
            "name": "",
            "isExposed": false
          },
          {
            "id": "band_multiplier",
            "value": 2,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cmo14",
        "type": "cmo",
        "options": [
          {
            "id": "period",
            "value": 14,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "const30",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 30,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "constNeg30",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": -30,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "const20",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": 20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "constNeg20",
        "type": "number",
        "options": [
          {
            "id": "value",
            "value": -20,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_close_upper",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_close_lower",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cross_up30",
        "type": "crossover",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "long_entry",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_cmo_neg30",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cross_neg30",
        "type": "crossany",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "short_entry",
        "type": "agg_all_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_close_upper_exit",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "lt_cmo_20",
        "type": "lt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cross_20",
        "type": "crossany",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "long_exit",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_close_lowerband",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "gt_cmo_neg20",
        "type": "gt",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "cross_neg20",
        "type": "crossany",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "short_exit",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "close_signal",
        "type": "agg_any_of",
        "options": [],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      },
      {
        "id": "executor",
        "type": "trade_signal_executor",
        "options": [
          {
            "id": "closeIfIndecisive",
            "value": false,
            "name": "",
            "isExposed": false
          }
        ],
        "metadata": {
          "parentId": null
        },
        "timeframe": null
      }
    ],
    "edges": [
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "cmo14",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "gt_close_upper",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "kc",
          "handle": "upper_band"
        },
        "target": {
          "id": "gt_close_upper",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "lt_close_lower",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "kc",
          "handle": "lower_band"
        },
        "target": {
          "id": "lt_close_lower",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "cmo14",
          "handle": "result"
        },
        "target": {
          "id": "cross_up30",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "const30",
          "handle": "result"
        },
        "target": {
          "id": "cross_up30",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "gt_close_upper",
          "handle": "result"
        },
        "target": {
          "id": "long_entry",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cross_up30",
          "handle": "result"
        },
        "target": {
          "id": "long_entry",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "long_entry",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "long"
        }
      },
      {
        "source": {
          "id": "cmo14",
          "handle": "result"
        },
        "target": {
          "id": "lt_cmo_neg30",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "constNeg30",
          "handle": "result"
        },
        "target": {
          "id": "lt_cmo_neg30",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "cmo14",
          "handle": "result"
        },
        "target": {
          "id": "cross_neg30",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "constNeg30",
          "handle": "result"
        },
        "target": {
          "id": "cross_neg30",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "lt_close_lower",
          "handle": "result"
        },
        "target": {
          "id": "short_entry",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "lt_cmo_neg30",
          "handle": "result"
        },
        "target": {
          "id": "short_entry",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cross_neg30",
          "handle": "result"
        },
        "target": {
          "id": "short_entry",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "short_entry",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "short"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "lt_close_upper_exit",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "kc",
          "handle": "upper_band"
        },
        "target": {
          "id": "lt_close_upper_exit",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "cmo14",
          "handle": "result"
        },
        "target": {
          "id": "lt_cmo_20",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "const20",
          "handle": "result"
        },
        "target": {
          "id": "lt_cmo_20",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "cmo14",
          "handle": "result"
        },
        "target": {
          "id": "cross_20",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "const20",
          "handle": "result"
        },
        "target": {
          "id": "cross_20",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "lt_close_upper_exit",
          "handle": "result"
        },
        "target": {
          "id": "long_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "lt_cmo_20",
          "handle": "result"
        },
        "target": {
          "id": "long_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cross_20",
          "handle": "result"
        },
        "target": {
          "id": "long_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "md",
          "handle": "c"
        },
        "target": {
          "id": "gt_close_lowerband",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "kc",
          "handle": "lower_band"
        },
        "target": {
          "id": "gt_close_lowerband",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "cmo14",
          "handle": "result"
        },
        "target": {
          "id": "gt_cmo_neg20",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "constNeg20",
          "handle": "result"
        },
        "target": {
          "id": "gt_cmo_neg20",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "cmo14",
          "handle": "result"
        },
        "target": {
          "id": "cross_neg20",
          "handle": "*0"
        }
      },
      {
        "source": {
          "id": "constNeg20",
          "handle": "result"
        },
        "target": {
          "id": "cross_neg20",
          "handle": "*1"
        }
      },
      {
        "source": {
          "id": "gt_close_lowerband",
          "handle": "result"
        },
        "target": {
          "id": "short_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "gt_cmo_neg20",
          "handle": "result"
        },
        "target": {
          "id": "short_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "cross_neg20",
          "handle": "result"
        },
        "target": {
          "id": "short_exit",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "long_exit",
          "handle": "result"
        },
        "target": {
          "id": "close_signal",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "short_exit",
          "handle": "result"
        },
        "target": {
          "id": "close_signal",
          "handle": "*"
        }
      },
      {
        "source": {
          "id": "close_signal",
          "handle": "result"
        },
        "target": {
          "id": "executor",
          "handle": "close"
        }
      }
    ]
  },
  "timestamp": "2025-06-17T10:50:09.883683",
  "tags": [
    "trend following",
    "keltner channels",
    "momentum",
    "price action",
    "4-hour"
  ]
}