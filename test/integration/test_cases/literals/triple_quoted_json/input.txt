# Test that triple-quoted JSON strings parse correctly with card_schema
src = market_data_source(timeframe="1D")
short_ma = ema(period=15)(src.c)
long_ma = ema(period=100)(src.c)
bullish = short_ma.result > long_ma.result
bearish = long_ma.result > short_ma.result
new_signal = bullish or bearish
color = "BULLISH" if bullish else ("BEARISH" if bearish else None)

event_marker(event_marker_schema="""
{
  "title": "MA Crossover",
  "icon": "Signal",
  "select_key": "SLOT0",
  "schemas": [
      {"column_id": "SLOT1", "slot": "Hero", "render_type": "Badge", "color_map": {"Success": ["BULLISH"], "Error": ["BEARISH"]}},
      {"column_id": "SLOT2", "slot": "Subtitle", "render_type": "Decimal"},
      {"column_id": "SLOT3", "slot": "Subtitle", "render_type": "Decimal"}
  ]
}
""")(new_signal, color, long_ma, short_ma)
