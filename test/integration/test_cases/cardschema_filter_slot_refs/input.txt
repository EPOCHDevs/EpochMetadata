# Test card_selector_filter with SLOT references in card_schema
src=market_data_source()

short_ma=ema(period=15)(src.c)

long_ma=ema(period=100)(src.c)

bullish = crossover(short_ma,long_ma)
bearish = crossover(long_ma,short_ma)
new_signal = bullish or bearish

trade_signal_executor()(enter_long=bullish, enter_short=bearish)

color = "BULLISH" if bullish else ("BEARISH" if bearish else None)

card_selector_filter(card_schema=CardSchemaFilter(
  title="SMA Crossover",
  icon=Signal,
  select_key=SLOT0,
  schemas=[
      CardColumnSchema(column_id=SLOT1, slot=Hero, render_type=Text, color_map={Success: ["BULLISH"], Error: ["BEARISH"]}),
      CardColumnSchema(column_id=SLOT2, slot=Subtitle, render_type=Decimal),
      CardColumnSchema(column_id=SLOT3, slot=Subtitle, render_type=Decimal)
  ]))(new_signal, color, long_ma, short_ma)
