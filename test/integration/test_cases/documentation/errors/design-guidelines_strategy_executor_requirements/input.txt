# Source: design-guidelines.mdx:98
# Section: EpochScript Design Guidelines > Strategy Executor Requirements
# Type: complete_code

src = market_data_source(timeframe="1D")
ema_20 = ema(period=20)(src.c)
atr_val = atr(period=14)(src.h, src.l, src.c)

# Entry signal
buy = crossover(src.c, ema_20)

# Exit signal (stop-loss or take-profit)
stop_distance = 2 * atr_val
exit = src.c < (ema_20 - stop_distance)

trade_signal_executor()(
    enter_long=buy,
    exit_long=exit
)
