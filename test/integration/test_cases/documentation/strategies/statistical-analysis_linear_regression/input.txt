# Source: strategies/statistical-analysis.md:82
# Section: Statistical Analysis & Machine Learning > Linear Regression
# Type: complete_strategy

src = market_data_source()

# Linear regression components
fitted = linreg(period=50)(src.c)
slope = linregslope(period=50)(src.c)
intercept = linregintercept(period=50)(src.c)

# Trend strength
strong_uptrend = slope > 0.5
weak_uptrend = slope > 0 and slope < 0.3

# Deviation from trend (residual)
residual = src.c - fitted
overextended = residual > 2
underextended = residual < -2

# Regression channel
std_dev = stddev(period=50)(residual)
upper_band = fitted + (2 * std_dev)
lower_band = fitted - (2 * std_dev)

# Mean reversion to channel
entry = strong_uptrend and underextended and (src.c < lower_band)
exit = overextended or (src.c > upper_band)

trade_signal_executor()(enter_long=entry, exit_long=exit)
