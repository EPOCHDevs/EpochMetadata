# Source: strategies/chart-formations.md:60
# Section: Chart Formation Recognition > Triangles
# Type: complete_strategy

src = market_data_source()

asc_tri = triangles(triangle_type="Ascending (Bullish)")(src.h, src.l, src.c)
desc_tri = triangles(triangle_type="Descending (Bearish)")(src.h, src.l, src.c)
sym_tri = triangles(triangle_type="Symmetrical (Neutral)")(src.h, src.l, src.c)

# Breakout direction
uptrend = ema(period=50)(src.c) > ema(period=200)(src.c)

asc_break = asc_tri.pattern_detected
desc_break = desc_tri.pattern_detected

# Symmetrical breaks in trend direction
sym_bull = sym_tri.pattern_detected and uptrend
sym_bear = sym_tri.pattern_detected and not uptrend

entry = asc_break or sym_bull
exit = desc_break or sym_bear

trade_signal_executor()(enter_long=entry, exit_long=exit)
