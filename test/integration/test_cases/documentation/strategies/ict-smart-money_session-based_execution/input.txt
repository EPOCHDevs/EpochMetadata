# Source: strategies/ict-smart-money.mdx:130
# Section: ICT & Smart Money Concepts > Session-Based Execution
# Type: complete_strategy

src = market_data_source()

london = sessions(session_type="London")()
ny = sessions(session_type="NewYork")()

# Track session range for liquidity targets
london_high = conditional_select(london.active, src.h, 0)
london_low = conditional_select(london.active, src.l, 0)

# NY session sweep of London liquidity
sweep_high = ny.active and (src.h > london_high)  # Bearish sweep
sweep_low = ny.active and (src.l < london_low)    # Bullish sweep

# Custom session window
killzone = session_time_window(
    start_hour=8, start_minute=30,
    end_hour=11, end_minute=0,
    timezone="America/New_York"
)()

entry_timing = killzone.active

trade_signal_executor()(
    enter_short=sweep_high and entry_timing,
    enter_long=sweep_low and entry_timing
)
