# Source: strategies/ict-smart-money.md:119
# Section: ICT & Smart Money Concepts > Session-Based Execution
# Type: complete_strategy

src = market_data_source()

london = sessions(session_type="London")()
ny = sessions(session_type="NewYork")()

# Track session range for liquidity targets
london_high = conditional_select(london.active, src.h, 0)
london_low = conditional_select(london.active, src.l, 0)

# NY session sweep of London liquidity
sweep_high = ny.active and (src.h > london_high)  # Bearish sweep
sweep_low = ny.active and (src.l < london_low)    # Bullish sweep

# Custom session window (8am-11am NY time)
# NOTE: Using sessions transform instead as session_time_window may not support start_hour/end_hour
# In production, consider using time-based filtering
killzone_active = london.active or ny.active

entry_timing = killzone_active

trade_signal_executor()(
    enter_short=sweep_high and entry_timing,
    enter_long=sweep_low and entry_timing
)
