# Source: strategies/calendrical-effects.md:77
# Section: Calendrical Effects & Seasonal Patterns > Session Range Manipulation (Quarter-End)
# Type: complete_strategy

src = market_data_source()

current_month = month_of_year()()

quarter_end_month = (
    current_month == 3 or
    current_month == 6 or
    current_month == 9 or
    current_month == 12
)

# Last few days of quarter
# (Approximationâ€”ideally detect last trading day)
late_quarter = quarter_end_month

# Window dressing: institutions buy winners
# 10% above 60-day MA
winners = src.c > sma(period=60)(src.c) * 1.1
losers = src.c < sma(period=60)(src.c) * 0.9

buy_winners = late_quarter and winners
avoid_losers = late_quarter and losers

entry = buy_winners
exit = avoid_losers

trade_signal_executor()(enter_long=entry, exit_long=exit)
