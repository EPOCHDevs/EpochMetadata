# Source: strategies/chart-formations.md:110
# Section: Chart Formation Recognition > Complete Pattern Strategy
# Type: complete_strategy

src = market_data_source()

# Detect all patterns
db = double_bottom(tolerance=0.02)(src.h, src.l, src.c)
ihs = inverse_head_and_shoulders()(src.h, src.l, src.c)
asc_tri = ascending_triangle()(src.h, src.l, src.c)
bf = bull_flag()(src.h, src.l, src.c)
falling_wedge = falling_wedge()(src.h, src.l, src.c)

# Bullish breakouts
db_break = db.result and (src.c > db.neckline)
ihs_break = ihs.result and (src.c > ihs.neckline_level)
asc_break = asc_tri.result and (src.c > asc_tri.resistance)
flag_break = bf.result and (src.c > bf.upper_bound)
wedge_break = falling_wedge.result and (src.c > falling_wedge.upper_bound)

bullish_pattern = db_break or ihs_break or asc_break or flag_break or wedge_break

# Volume + trend confirmation
uptrend = ema(period=50)(src.c) > ema(period=200)(src.c)
vol_surge = src.v > sma(period=20)(src.v) * 1.3

entry = bullish_pattern and uptrend and vol_surge

trade_signal_executor()(enter_long=entry)
