# Source: strategies/chart-formations.md:41
# Section: Chart Formation Recognition > Head & Shoulders
# Type: complete_strategy

src = market_data_source()

hs = head_and_shoulders()(src.h, src.l, src.c)
ihs = inverse_head_and_shoulders()(src.h, src.l, src.c)

hs_break = hs.pattern_detected and (src.c < hs.neckline_level) and (src.v > sma(period=20)(src.v) * 1.3)
ihs_break = ihs.pattern_detected and (src.c > ihs.neckline_level) and (src.v > sma(period=20)(src.v) * 1.3)

entry = ihs_break
exit = hs_break

trade_signal_executor()(enter_long=entry, exit_long=exit)
