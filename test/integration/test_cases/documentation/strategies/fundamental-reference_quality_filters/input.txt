# Source: strategies/fundamental-reference.md:18
# Section: Fundamental Data Integration > Quality Filters
# Type: partial_example

src = market_data_source()

bs = balance_sheet()
income = income_statement()
cf = cash_flow()
ratios = financial_ratios()

# Balance sheet quality
low_debt = ratios.debt_equity < 0.7
liquid = ratios.current_ratio > 1.3

# Profitability
profitable = income.net_income > 0
high_roe = ratios.roe > 0.15

# Cash generation
positive_fcf = (cf.cfo_cont - cf.capex) > 0

# Valuation
pe = src.c / income.basic_eps
reasonable_pe = pe < 25 and pe > 5

# Combined quality filter
fundamentals_ok = low_debt and liquid and profitable and high_roe and positive_fcf and reasonable_pe

# Only trade quality companies
technical_signal = crossover(ema(period=20)(src.c), ema(period=50)(src.c))
entry = technical_signal and fundamentals_ok
