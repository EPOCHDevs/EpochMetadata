# Source: concepts/price-action.mdx:41
# Section: Price Action Analysis > Smart Money Concepts (ICT)
# Type: partial_example

src = market_data_source(timeframe="15Min")

# Detect market structure
swings = swing_highs_lows(swing_length=5)(src.h, src.l)
liq = liquidity(range_percent=0.02)(swings.high_low, swings.level)
ob = order_blocks()(swings.high_low, swings.level)

# Liquidity taken above swing highs
liquidity_swept = liq.swept != 0

# Price returns to bullish order block
at_order_block = (ob.ob == 1) and (src.c >= ob.bottom) and (src.c <= ob.top)

# Entry on bullish reaction at block after sweep
entry = liquidity_swept[1:3] and at_order_block and (src.c > src.o)
