# Source: concepts/price-action.mdx:218
# Section: Price Action Analysis > Chart Formations
# Type: complete_code

src = market_data_source(timeframe="1D")

# Double bottom (bullish reversal)
db = double_top_bottom(lookback=50, pattern_type="bottoms", similarity_tolerance=0.02)()
bullish_breakout = db.pattern_detected and (src.c > db.breakout_level)

# Double top (bearish reversal)
dt = double_top_bottom(lookback=50, pattern_type="tops", similarity_tolerance=0.02)()
bearish_breakout = dt.pattern_detected and (src.c < dt.breakout_level)
