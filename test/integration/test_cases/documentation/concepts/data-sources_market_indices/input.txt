# Source: concepts/data-sources.mdx:292
# Section: Data Sources > Market Indices
# Type: complete_code

src = market_data_source(timeframe="1D")
spy = us_reference_stocks(ticker="SPY", timeframe="1D")()

# Relative strength analysis
rel_strength = src.c / spy.c
outperforming = rel_strength > rel_strength[20]

# Beta calculation
returns = (src.c / src.c[1]) - 1
spy_returns = (spy.c / spy.c[1]) - 1
beta = rolling_cov(window=60)(returns, spy_returns) / rolling_cov(window=60)(spy_returns, spy_returns)
