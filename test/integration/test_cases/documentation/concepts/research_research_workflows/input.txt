# Source: concepts/research.mdx:302
# Section: Research Reports > Research Workflows
# Type: complete_code

src = market_data_source(timeframe="1D", symbols=["AAPL"])
returns = roc(period=1)(src.c)

rsi_val = rsi(period=14)(src.c)
regime = conditional_select(rsi_val < 30, "Oversold", rsi_val > 70, "Overbought", "Neutral")

# Proportion analysis
pie_chart_report(agg="count", title="Market Regime Distribution", category="Research")(regime)

# Performance by regime
bar_chart_report(agg="mean", title="Avg Return by Regime", category="Research")(regime, returns)

# Detailed regime table
extreme = (rsi_val < 30) | (rsi_val > 70)
table_report(schema=TableReportSchema(
    title="Extreme Conditions",
    select_key=SLOT0,
    columns=[
        TableColumnSchema(column_id=SLOT1, title="Regime"),
        TableColumnSchema(column_id=SLOT2, title="RSI")
    ]
))(extreme, regime, rsi_val)

# Summary card
numeric_cards_report(agg="mean", title="Avg RSI", category="Summary", group=0, group_size=1)(rsi_val)
