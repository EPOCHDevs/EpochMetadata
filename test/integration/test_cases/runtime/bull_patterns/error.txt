TEST FAILURE: runtime/bull_patterns
================================================================================
Generated: 2025-11-07 12:50:14
================================================================================

ERROR OUTPUT:
--------------------------------------------------------------------------------
runtime/bull_patterns
--------------------------------------------------------------------------------
/home/adesola/EpochLab/EpochScript/test/integration/script_integration_test.cpp:449: FAILED:
explicitly with messages:
  Found 172 integration test cases
  test_case.name := "runtime/bull_patterns"
  Expected graph.json:
  [{"type":"add","id":"add_0","options":{},"inputs":{"SLOT0":["add_1#result"],
  "SLOT1":["mul_2#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":
  "add","id":"add_1","options":{},"inputs":{"SLOT0":["mul_0#result"],"SLOT1":
  ["mul_1#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":"sma",
  "id":"consolidation_vol_avg","options":{"period":10},"inputs":{"SLOT":
  ["src#v"]},"timeframe":{"interval":1,"type":"day"}},{"type":"div","id":
  "div_0","options":{},"inputs":{"SLOT0":["sub_0#result"],"SLOT1":
  ["lag_0#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":"div",
  "id":"div_1","options":{},"inputs":{"SLOT0":["flagpole_magnitude#result"],
  "SLOT1":["number_0#result"]},"timeframe":{"interval":1,"type":"day"}},
  {"type":"div","id":"div_2","options":{},"inputs":{"SLOT0":["sub_1#result"],
  "SLOT1":["flagpole_vol_avg#result"]},"timeframe":{"interval":1,"type":"day"}}
  ,{"type":"abs","id":"flagpole_magnitude","options":{},"inputs":{"SLOT":
  ["div_0#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":"sma",
  "id":"flagpole_vol_avg","options":{"period":10},"inputs":{"SLOT":
  ["lag_2#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":
  "boolean_select","id":"ifexp_0","options":{},"inputs":{"condition":
  ["top_20_stocks#result"],"true":["add_0#result"],"false":["number_4#result"]}
  ,"timeframe":{"interval":1,"type":"day"}},{"type":"lag","id":"lag_0",
  "options":{"period":20},"inputs":{"SLOT":["src#c"]},"timeframe":{"interval":
  1,"type":"day"}},{"type":"lag","id":"lag_2","options":{"period":20},"inputs":
  {"SLOT":["src#v"]},"timeframe":{"interval":1,"type":"day"}},{"type":"mul",
  "id":"mul_0","options":{},"inputs":{"SLOT0":["flagpole_magnitude#result"],
  "SLOT1":["number_1#result"]},"timeframe":{"interval":1,"type":"day"}},
  {"type":"mul","id":"mul_1","options":{},"inputs":{"SLOT0":["div_1#result"],
  "SLOT1":["number_2#result"]},"timeframe":{"interval":1,"type":"day"}},
  {"type":"mul","id":"mul_2","options":{},"inputs":{"SLOT0":["div_2#result"],
  "SLOT1":["number_3#result"]},"timeframe":{"interval":1,"type":"day"}},
  {"type":"table_report","id":"node_0","options":{"schema":{"title":"Top 20
  Bull Flag Patterns by Quality Score","select_key":"SLOT4","columns":[]}},
  "inputs":{"SLOT":["add_0#result","mul_0#result","mul_1#result",
  "mul_2#result","top_20_stocks#result"]},"timeframe":{"interval":1,"type":
  "day"}},{"type":"number","id":"number_0","options":{"value":20},"inputs":{},
  "timeframe":{"interval":1,"type":"day"}},{"type":"number","id":"number_1",
  "options":{"value":100},"inputs":{},"timeframe":{"interval":1,"type":"day"}},
  {"type":"number","id":"number_2","options":{"value":500},"inputs":{},
  "timeframe":{"interval":1,"type":"day"}},{"type":"number","id":"number_3",
  "options":{"value":50},"inputs":{},"timeframe":{"interval":1,"type":"day"}},
  {"type":"number","id":"number_4","options":{"value":0},"inputs":{},
  "timeframe":{"interval":1,"type":"day"}},{"type":"market_data_source","id":
  "src","options":{},"inputs":{},"timeframe":{"interval":1,"type":"day"}},
  {"type":"sub","id":"sub_0","options":{},"inputs":{"SLOT0":["src#c"],"SLOT1":
  ["lag_0#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":"sub",
  "id":"sub_1","options":{},"inputs":{"SLOT0":["flagpole_vol_avg#result"],
  "SLOT1":["consolidation_vol_avg#result"]},"timeframe":{"interval":1,"type":
  "day"}},{"type":"top_k","id":"top_20_stocks","options":{"k":20},"inputs":
  {"SLOT":["add_0#result"]},"timeframe":{"interval":1,"type":"day"}}]
  Actual graph.json:
  [{"type":"add","id":"add_0","options":{},"inputs":{"SLOT1":["mul_2#result"],
  "SLOT0":["add_1#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":
  "add","id":"add_1","options":{},"inputs":{"SLOT1":["mul_1#result"],"SLOT0":
  ["mul_0#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":"sma",
  "id":"consolidation_vol_avg","options":{"period":10},"inputs":{"SLOT":
  ["src#v"]},"timeframe":{"interval":1,"type":"day"}},{"type":"div","id":
  "div_0","options":{},"inputs":{"SLOT1":["lag_0#result"],"SLOT0":
  ["sub_0#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":"div",
  "id":"div_1","options":{},"inputs":{"SLOT1":["number_0#result"],"SLOT0":
  ["flagpole_magnitude#result"]},"timeframe":{"interval":1,"type":"day"}},
  {"type":"div","id":"div_2","options":{},"inputs":{"SLOT1":
  ["flagpole_vol_avg#result"],"SLOT0":["sub_1#result"]},"timeframe":
  {"interval":1,"type":"day"}},{"type":"abs","id":"flagpole_magnitude",
  "options":{},"inputs":{"SLOT":["div_0#result"]},"timeframe":{"interval":1,
  "type":"day"}},{"type":"sma","id":"flagpole_vol_avg","options":{"period":10},
  "inputs":{"SLOT":["lag_2#result"]},"timeframe":{"interval":1,"type":"day"}},
  {"type":"boolean_select","id":"ifexp_0","options":{},"inputs":{"false":
  ["number_4#result"],"true":["add_0#result"],"condition":
  ["top_20_stocks#result"]},"timeframe":{"interval":1,"type":"day"}},{"type":
  "lag","id":"lag_0","options":{"period":20},"inputs":{"SLOT":["src#c"]},
  "timeframe":{"interval":1,"type":"day"}},{"type":"lag","id":"lag_2",
  "options":{"period":20},"inputs":{"SLOT":["src#v"]},"timeframe":{"interval":
  1,"type":"day"}},{"type":"mul","id":"mul_0","options":{},"inputs":{"SLOT1":
  ["number_1#result"],"SLOT0":["flagpole_magnitude#result"]},"timeframe":
  {"interval":1,"type":"day"}},{"type":"mul","id":"mul_1","options":{},
  "inputs":{"SLOT1":["number_2#result"],"SLOT0":["div_1#result"]},"timeframe":
  {"interval":1,"type":"day"}},{"type":"mul","id":"mul_2","options":{},
  "inputs":{"SLOT1":["number_3#result"],"SLOT0":["div_2#result"]},"timeframe":
  {"interval":1,"type":"day"}},{"type":"table_report","id":"node_0","options":
  {"schema":{"title":"Top 20 Bull Flag Patterns by Quality Score","select_key":
  "SLOT4","columns":[]}},"inputs":{"SLOT":["add_0#result","mul_0#result",
  "mul_1#result","mul_2#result","top_20_stocks#result"]},"timeframe":
  {"interval":1,"type":"day"}},{"type":"number","id":"number_0","options":
  {"value":20},"inputs":{},"timeframe":{"interval":1,"type":"day"}},{"type":
  "number","id":"number_1","options":{"value":100},"inputs":{},"timeframe":
  {"interval":1,"type":"day"}},{"type":"number","id":"number_2","options":
  {"value":500},"inputs":{},"timeframe":{"interval":1,"type":"day"}},{"type":
  "number","id":"number_3","options":{"value":50},"inputs":{},"timeframe":
  {"interval":1,"type":"day"}},{"type":"number","id":"number_4","options":
  {"value":0},"inputs":{},"timeframe":{"interval":1,"type":"day"}},{"type":
  "market_data_source","id":"src","options":{},"inputs":{},"timeframe":
  {"interval":1,"type":"day"}},{"type":"sub","id":"sub_0","options":{},
  "inputs":{"SLOT1":["lag_0#result"],"SLOT0":["src#c"]},"timeframe":
  {"interval":1,"type":"day"}},{"type":"sub","id":"sub_1","options":{},
  "inputs":{"SLOT1":["consolidation_vol_avg#result"],"SLOT0":
  ["flagpole_vol_avg#result"]},"timeframe":{"interval":1,"type":"day"}},
  {"type":"top_k","id":"top_20_stocks","options":{"k":20},"inputs":{"SLOT":
--------------------------------------------------------------------------------

================================================================================
TO FIX:
================================================================================
1. Review the error above
2. Fix the issue (compiler, script, or test)
3. Regenerate expected outputs:
   python3 scripts/test_helpers/generate_expected.py test/integration/test_cases/runtime/bull_patterns
4. Re-run tests:
   cmake-build-debug/bin/epoch_script_test "runtime/bull_patterns"
5. This error.txt will be auto-deleted on next successful run
================================================================================
