---
title: Sessions
page_type: concept
layout: default
order: 2
category: Core Concepts
description: Intraday session filtering and boundary detection
parent: ./index.md
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tabs, Tab } from 'fumadocs-ui/components/tabs';

# Sessions

Intraday session filtering and detection. Two modes: filter data to specific sessions or detect session boundaries.

---

## Session Features

| Feature | Purpose | Usage |
|---------|---------|-------|
| **`session` parameter** | Filter data to specific session | `ema(period=20, session="London")(src.c)` |
| **`sessions()` transform** | Detect predefined session boundaries | `london = sessions(session_type="London")()` |
| **`time_of_day()` transform** | Detect custom time ranges | `morning = time_of_day(start="09:00", end="12:00")()` |

---

## Session Parameter (Data Filtering)

Execute transform on ONLY the bars within a specific trading session.

<!-- snippet: type=complete_code, needs_data=single_asset, timeframe=1D, needs_sessions=true, complexity=medium -->
```python
src = market_data_source(timeframe="1D")

# EMA calculated ONLY on London session bars
london_ema = ema(period=20, session="London")(src.c)

# RSI calculated ONLY on New York session bars
ny_rsi = rsi(period=14, session="NewYork")(src.c)

# Gap detection for Asian session only
asian_gaps = session_gap(fill_percent=100, session="AsianKillZone")()
```

**Use cases:**
- Session-specific indicators (London volatility, NY volume)
- Isolate trading to high-liquidity periods
- Compare behavior across sessions

---

## sessions() Transform (Session Detection)

Mark session boundaries and track session high/low.

**Syntax:**
<!-- snippet: type=complete_code, needs_data=single_asset, needs_sessions=true, complexity=medium -->
```python
session = sessions(session_type="session_name")()
```

**Outputs:**
- `active` - Boolean: True during session
- `high` - Decimal: Session high price
- `low` - Decimal: Session low price
- `opened` - Boolean: True on session open bar
- `closed` - Boolean: True on session close bar

**Example:**
<!-- snippet: type=complete_code, needs_data=single_asset, timeframe=1D, needs_sessions=true, complexity=medium -->
```python
src = market_data_source(timeframe="1D")
london = sessions(session_type="London")()

# Define bullish condition
fast_ema = ema(period=12)(src.c)
slow_ema = ema(period=26)(src.c)
bullish_condition = fast_ema > slow_ema

# Trade only during London session
in_session = london.active
entry = bullish_condition and in_session

# Breakout from session range
breakout_high = src.c > london.high
breakout_low = src.c < london.low

# Exit at session close
exit_signal = london.closed
```

---

## time_of_day() Transform (Custom Time Ranges)

Define custom UTC time ranges for intraday filtering.

**Syntax:**
<!-- snippet: type=complete_code, needs_data=single_asset, complexity=simple -->
```python
period = time_of_day(start="HH:MM", end="HH:MM")()
```

**Example:**
<!-- snippet: type=complete_code, needs_data=single_asset, timeframe=1H, needs_sessions=true, needs_intraday=true, complexity=medium -->
```python
src = market_data_source(timeframe="1H")

# Morning period: 09:00-12:00 UTC
morning = time_of_day(start="09:00", end="12:00")()

# Use same outputs as sessions()
is_morning = morning.active
morning_high = morning.high
morning_low = morning.low
```

**Key differences from `sessions()`:**
- Custom time ranges (not predefined)
- All times in UTC (no DST handling)
- Same 5 outputs: `active`, `opened`, `closed`, `high`, `low`

---

## Available Sessions

### Geographic Sessions
```text
"Sydney"    # Sydney, Australia (5 PM - 2 AM ET*)
"Tokyo"     # Tokyo, Japan (7 PM - 4 AM ET*)
"London"    # London, UK (3 AM - 12 PM ET*)
"NewYork"   # New York, USA (8 AM - 5 PM ET*)

* Times in EST; add 1 hour during EDT (daylight saving)
```

### Kill Zones (ICT - High Liquidity Periods)
```text
"AsianKillZone"         # 19:00-23:00 ET
"LondonOpenKillZone"    # 02:00-05:00 ET
"NewYorkKillZone"       # 07:00-10:00 ET
"LondonCloseKillZone"   # 10:00-12:00 ET
```

---

## Combined Session + TimeFrame

<!-- snippet: type=complete_code, needs_data=single_asset, timeframe=1D, needs_sessions=true, needs_intraday=true, complexity=medium -->
```python
src = market_data_source(timeframe="1D")

# Daily bars, but only from New York session data
daily_ny_src = market_data_source(
    timeframe="1D",
    session="NewYork"
)()
daily_ny = daily_ny_src.c

# Hourly EMA, London session only
hourly_london = ema(
    period=20,
    timeframe="1H",
    session="London"
)(src.c)
```

**Execution order:**
1. Filter by `session` (if specified)
2. Resample to `timeframe` (if specified)
3. Execute transform

---

## Requirements

<Callout type="warning" title="Intraday Data Required">
Session transforms require intraday data.

If strategy runs on daily (1D) timeframe, session transforms will fail with:
`Transform 'sessions' requires intraday data`

Ensure strategy is configured for intraday timeframe (1Min, 5Min, 1H, etc.)
</Callout>

---

## See Also

- [Timeframes](./timeframes) - Combine sessions with multi-timeframe analysis
- [Design Guidelines](../design-guidelines) - Session validation errors
