---
title: Advanced Volatility Estimators
page_type: reference
layout: default
order: 9
category: Strategies
description: Professional volatility estimators - Garman-Klass, Parkinson, Yang-Zhang, Hodges-Tompkins
parent: ./index.md
---

import { Callout } from 'fumadocs-ui/components/callout';

# Advanced Volatility Estimators

Range-based volatility using OHLC data: 5-14x more efficient than close-to-close.

---

## Efficiency Comparison

| Estimator | Efficiency vs Close² | Drift-Independent | Handles Gaps | Best For |
|-----------|---------------------|-------------------|--------------|----------|
| Parkinson | 5.2x | No (fails in trends) | No | Ranging markets |
| Garman-Klass | 7.4x | No | Partial | General use (most popular) |
| Rogers-Satchell | 8.1x | Yes | No | Trending markets |
| Yang-Zhang | 14x | Yes | Yes | Professional risk mgmt |
| Hodges-Tompkins | 1.0x | N/A (close-only) | No | Autocorrelation correction |

---

## Garman-Klass (7.4x)

```python
src = market_data_source()

vol_gk = garman_klass(period=20, trading_days=252)(src.l, src.h, src.o, src.c)

# Vol regime detection using percentile_select
low_vol = percentile_select(lookback=252, percentile=20)(vol_gk.result, 0, 1)  # 1 if below 20th percentile
high_vol = percentile_select(lookback=252, percentile=80)(vol_gk.result, 1, 0)  # 1 if above 80th percentile

# Vol breakout
vol_ma = sma(period=50)(vol_gk.result)
vol_expansion = vol_gk.result > vol_ma * 1.5

trade_signal_executor()(enter_long=low_vol, enter_short=high_vol)
```

<Callout type="warning">
Drift assumption: Assumes zero drift—underestimates in strong trends. Use Yang-Zhang for trending markets.
</Callout>

---

## Yang-Zhang (14x - Industry Standard)

```python
src = market_data_source()

vol_yz = yang_zhang(period=20, trading_periods=252)(src.l, src.h, src.o, src.c)

# Vol targeting
target_vol = 0.16  # 16% annual target
vol_ratio = target_vol / vol_yz.result
reduce_exposure = vol_yz.result > target_vol * 1.5
increase_exposure = vol_yz.result < target_vol * 0.5

# Dynamic stop distance
daily_vol = vol_yz.result / sqrt(252)
stop_distance = src.c * daily_vol * 2.0  # 2x daily vol

# Vol term structure
vol_30 = yang_zhang(period=30, trading_periods=252)(src.l, src.h, src.o, src.c)
vol_60 = yang_zhang(period=60, trading_periods=252)(src.l, src.h, src.o, src.c)

upward_sloping = vol_60.result > vol_30.result  # Expecting vol increase
inverted = vol_30.result > vol_60.result  # Expecting vol decrease

trade_signal_executor()(exit_long=reduce_exposure, enter_long=increase_exposure)
```

<Callout type="tip">
Gap handling: Combines overnight volatility + open-close volatility + Rogers-Satchell intraday. Use case: Risk parity, vol targeting, Sharpe ratio calc.
</Callout>

---

## Parkinson (5.2x)

```python
src = market_data_source()

vol_park = parkinson(period=20, trading_periods=252)(src.l, src.h)

# Overestimates in trends—use for ranging markets
adx_val = adx(period=14)(src.h, src.l, src.c)
ranging = adx_val < 20
vol_ok = ranging and (vol_park.result < 0.30)

trade_signal_executor()(enter_long=vol_ok)
```

<Callout type="warning">
Fails when: Strong trend present (drift assumption violated). Best when: Sideways, range-bound markets.
</Callout>

---

## Comparative Analysis

```python
src = market_data_source()

vol_park = parkinson(period=20, trading_periods=252)(src.l, src.h)
vol_gk = garman_klass(period=20, trading_days=252)(src.l, src.h, src.o, src.c)
vol_yz = yang_zhang(period=20, trading_periods=252)(src.l, src.h, src.o, src.c)

# Close-to-close volatility for comparison
returns = (src.c / src.c[1] - 1) * 100
vol_close = stddev(period=20)(returns) * sqrt(252)

# Detect gap vs intraday vol
park_vs_gk = vol_park.result / vol_gk.result
gap_vol_present = vol_yz.result > vol_gk.result * 1.2

# High intraday vol (range-based)
gk_vs_close = vol_gk.result / vol_close
high_intraday = gk_vs_close > 1.5  # Lots of intraday movement

# Regime classification
trending_gappy = gap_vol_present and high_intraday
clean_ranging = not gap_vol_present and (park_vs_gk > 0.95)

trade_signal_executor()(enter_long=clean_ranging, exit_long=trending_gappy)
```

**Next:** [Regime Detection](./regime-detection)
