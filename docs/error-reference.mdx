---
page_type: reference
layout: table
order: 1
category: Reference
description: Comprehensive troubleshooting guide with searchable error messages, causes, and fixes
parent: ./index.md
---

import { Callout } from 'fumadocs-ui/components/callout';

# Error Reference

Quick reference for EpochScript compilation and runtime errors. Each error includes the error message, cause, and fix example with links to detailed documentation.

<Callout type="tip">
**For detailed explanations and best practices:**
- [Types & Literals - Parameter Type Validation](./language/types.md#parameter-type-validation)
- [Design Guidelines](./design-guidelines.md) - Patterns and common mistakes
- [Language Limitations](./language/limitations.md) - Python features not supported
- [Core Concepts](./concepts/index.md) - Timeframes, sessions, cross-sectional
</Callout>

---


## Syntax Errors

### Variable Already Bound

**Error:** `Variable 'price' already bound`

**Cause:** Attempting to reassign a variable

```epochscript
# Incorrect:
price = src.c
price = src.o  # ERROR: Cannot reassign

# FIX
close_price = src.c
open_price = src.o
```

**See also:** [Design Guidelines - Variable Reassignment](./design-guidelines.md#variable-reassignment)

---

### Undefined Variable

**Error:** `Undefined variable 'x'`

**Cause:** Using variable before definition

```epochscript
# Incorrect:
signal = ema_val > 100
ema_val = ema(period=20)(src.c)  # Defined after use

# FIX
ema_val = ema(period=20)(src.c)
signal = ema_val > 100
```

---

### Chained Comparison Not Supported

**Error:** `Chained comparison not supported`

**Cause:** Using syntax like `a < b < c`

```epochscript
# Incorrect:
valid = 30 < rsi_val < 70

# FIX
above_30 = rsi_val > 30
below_70 = rsi_val < 70
valid = above_30 and below_70
```

**See also:** [Design Guidelines - Chained Comparisons](./design-guidelines.md#chained-comparisons)

---

### Control Flow Not Allowed

**Error:** `If statements not supported`

**Cause:** Using `if`, `for`, `while`, `def`, `class`

```epochscript
# Incorrect:
if price > 100:
    signal = True
else:
    signal = False

# FIX
signal = price > 100
# Or: signal = True if price > 100 else False
```

**See also:** [Design Guidelines - Control Flow Statements](./design-guidelines.md#control-flow-statements)

---

## Type Errors

### Incompatible Type Cast

**Error:** `incompatible_type_cast`

**Cause:** Trying to mix incompatible types (e.g., String + Number)

```epochscript
# Incorrect:
label = "PRICE"
result = label + 100  # Cannot add string to number

# FIX
value = 100
result = value + 100
```

---

### Type Mismatch for Option

**Error:** `Type mismatch for option 'period': expected Integer, got String`

**Cause:** Wrong type for transform parameter

```epochscript
# Incorrect:
ema_val = ema(period="20")(src.c)  # String instead of Integer

# FIX
ema_val = ema(period=20)(src.c)
```

**See also:** [Types & Literals - Parameter Type Validation](./language/types.md#parameter-type-validation)

---

### Boolean Operation on Non-Boolean

**Error:** `Expected Boolean type for logical operation`

**Cause:** Using `and`/`or`/`not` with non-boolean values incorrectly

```epochscript
# Incorrect: (if not auto-cast)
value = 100
result = value and True  # May fail if no auto-cast

# FIX
is_positive = value > 0
result = is_positive and True
```

---

## Transform Errors

**See also:** [Core Concepts](./concepts/index.md) for timeframes, sessions, and cross-sectional capabilities.

### Missing Required Option

**Error:** `Missing required option 'period'`

**Cause:** Transform requires an option that wasn't provided

```epochscript
# Incorrect:
ema_val = ema()(src.c)  # Missing period

# FIX
ema_val = ema(period=20)(src.c)
```

---

### Unknown Option

**Error:** `Unknown option 'periood'`

**Cause:** Typo in option name

```epochscript
# Incorrect:
ema_val = ema(periood=20)(src.c)  # Typo

# FIX
ema_val = ema(period=20)(src.c)
```

---

### Unknown Handle

**Error:** `Unknown handle 'result' for transform 'market_data_source'`

**Cause:** Accessing wrong output name

```epochscript
# Incorrect:
src = market_data_source()
price = src.result  # market_data_source has no 'result'

# FIX
price = src.c  # Use correct handle: c, h, l, o, v
```

---

### Transform Not Found

**Error:** `Unknown transform 'ema_20'`

**Cause:** Typo in transform name or transform doesn't exist

```epochscript
# Incorrect:
ema_val = ema_20()(src.c)  # No such transform

# FIX
ema_val = ema(period=20)(src.c)
```

---

### Wrong Input Count

**Error:** `Expected 2 inputs, got 1`

**Cause:** Transform requires specific number of inputs

```epochscript
# Incorrect:
cross = crossover()(fast)  # Needs 2 inputs

# FIX
cross = crossover()(fast, slow)
```

---

### Wrong Input Type

**Error:** `Expected Decimal input, got Boolean`

**Cause:** Passing wrong type to transform input

```epochscript
# Incorrect:
ema_val = ema(period=20)(is_bullish)  # Boolean, not Decimal

# FIX
ema_val = ema(period=20)(src.c)  # Decimal
```

---

## Lag Operator Errors

### Invalid Lag Zero

**Error:** `invalid_lag_zero`

**Cause:** Using `[0]` as lag index

```epochscript
# Incorrect:
current = src.c[0]

# FIX
current = src.c  # Omit index for current value
```

**See also:** [Design Guidelines - Zero Indexing](./design-guidelines.md#zero-indexing)

---

### Invalid Lag Float

**Error:** `invalid_lag_float`

**Cause:** Using float as lag index

```epochscript
# Incorrect:
lag = src.c[1.5]

# FIX
lag = src.c[2]  # Use integer
```

---

### Negative Lag Not Allowed

**Error:** `Negative lag indices not supported`

**Cause:** Using negative index (forward-looking)

```epochscript
# Incorrect:
future = src.c[-1]

# FIX (for research only)
# Use forward_returns transform
future_ret = forward_returns(period=1)(src.c)
```

**See also:** [Design Guidelines - Negative Indexing](./design-guidelines.md#negative-indexing)

---

## Multi-Output Errors

### Ambiguous Multi-Output

**Error:** `ambiguous_multi_output`

**Cause:** Using multi-output transform in expression without specifying which output

```epochscript
# Incorrect:
bb = bbands(period=20, stddev=2)(src.c)
signal = bb > 100  # Which output? (lower, middle, or upper?)

# FIX - Option 1: Access specific handle
bb = bbands(period=20, stddev=2)(src.c)
signal = bb.bbands_upper > 100

# FIX - Option 2: Tuple unpacking
lower, middle, upper = bbands(period=20, stddev=2)(src.c)
signal = upper > 100
```

**See also:** [Design Guidelines - Multi-Output Transform Access](./design-guidelines.md#multi-output-transform-access)

---

### Tuple Unpacking Count Mismatch

**Error:** `Tuple unpacking count mismatch: expected 3, got 2`

**Cause:** Number of variables doesn't match number of outputs

```epochscript
# Incorrect:
lower, upper = bbands(period=20, stddev=2)(src.c)  # 3 outputs, 2 variables

# FIX - Option 1: Match count
lower, middle, upper = bbands(period=20, stddev=2)(src.c)

# FIX - Option 2: Discard with underscore
lower, _, upper = bbands(period=20, stddev=2)(src.c)
```

**See also:** [Design Guidelines - Tuple Unpacking Count Matching](./design-guidelines.md#tuple-unpacking-count-matching)

---

### Right-Hand Side Must Be Constructor Call

**Error:** `Right-hand side of tuple unpacking must be a constructor call`

**Cause:** Trying to unpack something that isn't a transform call

```epochscript
# Incorrect:
bb = bbands(period=20, stddev=2)(src.c)
lower, middle, upper = bb  # Cannot unpack after assignment

# FIX
lower, middle, upper = bbands(period=20, stddev=2)(src.c)
```

**See also:** [Design Guidelines - Only Unpack Transform Calls](./design-guidelines.md#only-unpack-transform-calls)

---

### Calling Attribute as Function

**Error:** `Cannot call attribute as function`

**Cause:** Trying to call an output handle

```epochscript
# Incorrect:
bb_upper = bbands(period=20, stddev=2).bbands_upper(src.c)

# FIX
bb = bbands(period=20, stddev=2)(src.c)
bb_upper = bb.bbands_upper  # Access, don't call
```

**See also:** [Design Guidelines - Common Design Mistakes](./design-guidelines.md#2-calling-output-attributes-as-functions)

---

## TimeFrame/Session Errors

### Invalid TimeFrame

**Error:** `Invalid timeframe 'BAD_TF'`

**Cause:** Using unsupported timeframe string

```epochscript
# Incorrect:
daily = ema(period=50, timeframe="BAD_TF")(src.c)
daily = ema(period=50, timeframe="1Day")(src.c)  # Wrong format

# FIX
daily = ema(period=50, timeframe="1D")(src.c)
hourly = ema(period=20, timeframe="1H")(src.c)
```

**Valid formats:** `"1Min"`, `"5Min"`, `"15Min"`, `"1H"`, `"4H"`, `"1D"`, `"1W"`, `"1M"`

**See also:** [Design Guidelines - Valid Timeframe Formats](./design-guidelines.md#valid-timeframe-formats)

---

### Invalid Session

**Error:** `Invalid session 'BAD_SESSION'`

**Cause:** Using unsupported session name

```epochscript
# Incorrect:
london_ema = ema(period=20, session="BAD_SESSION")(src.c)
london_ema = ema(period=20, session="LondonKillZone")(src.c)  # Doesn't exist

# FIX
london_ema = ema(period=20, session="London")(src.c)
lkz_ema = ema(period=20, session="LondonOpenKillZone")(src.c)
```

**Valid sessions:** `"Sydney"`, `"Tokyo"`, `"London"`, `"NewYork"`, `"AsianKillZone"`, `"LondonOpenKillZone"`, `"NewYorkKillZone"`, `"LondonCloseKillZone"`

**See also:** [Design Guidelines - Valid Session Names](./design-guidelines.md#valid-session-names)

---

### Intraday-Only Transform on Daily Data

**Error:** `Transform 'sessions' requires intraday data`

**Cause:** Using session-based transform on daily or higher timeframe

```epochscript
# Incorrect: (if running on daily data)
london = sessions(session_type="London")()

# FIX
# Use intraday timeframe (1Min, 5Min, 15Min, etc.)
# Configure strategy to run on intraday data
```

**See also:** [Design Guidelines - Session-Based Transforms Require Intraday Data](./design-guidelines.md#session-based-transforms-require-intraday-data)

---

## Reporting Errors

### event_marker: Invalid Color Category

**Error:** `Unknown color category 'Green'`

**Cause:** Using wrong color name (must be Success, Warning, Error, or Info)

```epochscript
# Incorrect:
event_marker(color_map={
    Green: ["oversold"],     # Wrong: 'Green' not valid
    Red: ["overbought"]      # Wrong: 'Red' not valid
})(
    oversold=oversold,
    overbought=overbought
)

# FIX
event_marker(color_map={
    Success: ["oversold"],   # Green color
    Error: ["overbought"]    # Red color
})(
    oversold=oversold,
    overbought=overbought
)
```

**Valid color categories:** `Success` (green), `Warning` (yellow), `Error` (red), `Info` (blue)

**See also:** [Design Guidelines - event_marker Color Map Pattern](./design-guidelines.md#event_marker-color-map-pattern)

---

### event_marker: Event Name Not in Inputs

**Error:** `Event 'breakout' referenced in color_map but not provided as input`

**Cause:** Event name in color_map doesn't match any input

```epochscript
# Incorrect:
event_marker(color_map={
    Success: ["breakout"]  # 'breakout' not in inputs
})(
    upper_break=src.c > upper  # Named 'upper_break', not 'breakout'
)

# FIX - Option 1: Match input name
event_marker(color_map={
    Success: ["upper_break"]  # Matches input name
})(
    upper_break=src.c > upper
)

# FIX - Option 2: Rename input
event_marker(color_map={
    Success: ["breakout"]
})(
    breakout=src.c > upper  # Renamed to match
)
```

---

### event_marker: Non-Boolean Input

**Error:** `Expected Boolean input for 'price', got Decimal`

**Cause:** event_marker inputs must be boolean series

```epochscript
# Incorrect:
event_marker(color_map={
    Success: ["price"]
})(
    price=src.c  # Decimal, not Boolean
)

# FIX
event_marker(color_map={
    Success: ["high_price"]
})(
    high_price=src.c > 100  # Boolean condition
)
```

**See also:** [Research Dashboards - Gap Report Required Inputs](./visualization/research-dashboards.md#gap-report-required-inputs) and [Research Dashboards - Table Report SQL Patterns](./visualization/research-dashboards.md#table-report-sql-patterns)

---

## Quick Troubleshooting

### Compilation Errors

| Symptom | Likely Cause | Fix |
|---------|-------------|-----|
| `Variable 'x' already bound` | Reassignment | Use different variable name |
| `Undefined variable 'x'` | Used before definition | Move definition above usage |
| `Chained comparison` | `a < b < c` syntax | Break into `(a < b) and (b < c)` |
| `If statements not supported` | Control flow | Use ternary or `conditional_select` |
| `Unknown option 'x'` | Typo in option name | Check spelling |
| `Missing required option 'x'` | Required parameter missing | Add the option |

### Runtime Errors

| Symptom | Likely Cause | Fix |
|---------|-------------|-----|
| `incompatible_type_cast` | String + Number | Check types |
| `Unknown handle 'x'` | Wrong output name | Check transform outputs |
| `invalid_lag_zero` | Using `[0]` | Omit index |
| `invalid_lag_float` | Using `[1.5]` | Use integer |
| `ambiguous_multi_output` | Multi-output in expression | Access specific handle |
| `Tuple unpacking count mismatch` | Wrong number of variables | Match output count |

### Strategy Errors

| Symptom | Likely Cause | Fix |
|---------|-------------|-----|
| `No trade_signal_executor` | Missing executor | See [Design Guidelines](./design-guidelines.md#every-trading-strategy-must-have-exactly-one-executor) |
| `Multiple executors` | Two `trade_signal_executor` calls | See [Design Guidelines](./design-guidelines.md#anti-pattern-multiple-executors) |
| `Invalid timeframe` | Wrong format | Use `"1D"`, `"1H"`, etc. |
| `Invalid session` | Wrong name | Use valid session names |

---

## Debugging Steps

### 1. Read the Error Message

Error messages tell you:
- **What** went wrong
- **Where** it occurred (line number)
- **Why** it failed

### 2. Check Variable Names

```epochscript
# Common typos
ema_val = ema(period=20)(src.c)
signal = emv_val > 100  # Typo: emv_val vs ema_val
```

### 3. Verify Transform Names and Options

```epochscript
# Check spelling
rsi_val = rsi(period=14)(src.c)  # TRUE
rsi_val = rsi(periood=14)(src.c)  # FALSE Typo

# Check required options
ema_val = ema()(src.c)  # FALSE Missing period
ema_val = ema(period=20)(src.c)  # TRUE
```

### 4. Check Output Handles

```epochscript
# Wrong handle
src = market_data_source()
price = src.result  # FALSE No 'result' handle

# Correct handles
price = src.c  # Close
high = src.h   # High
```

### 5. Verify Input/Output Counts

```epochscript
# Crossover needs 2 inputs
cross = crossover()(fast)  # FALSE Only 1 input
cross = crossover()(fast, slow)  # TRUE

# Bollinger Bands returns 3 outputs
lower, upper = bbands(period=20, stddev=2)(src.c)  # FALSE Only 2 variables
lower, middle, upper = bbands(period=20, stddev=2)(src.c)  # TRUE
```

### 6. Check Data Types

```epochscript
# Wrong type
ema_val = ema(period="20")(src.c)  # FALSE String
ema_val = ema(period=20)(src.c)    # Integer

# Type compatibility
label = "PRICE"
result = label + 100  # FALSE String + Number
```

---

## Common Patterns for Fixes

### Pattern 1: Variable Reassignment

```epochscript
# Problem
x = src.c
x = src.o  # ERROR

# Solution
close = src.c
open = src.o
```

### Pattern 2: Chained Comparison

```epochscript
# Problem
valid = 30 < rsi < 70  # ERROR

# Solution
valid = (rsi > 30) and (rsi < 70)
```

### Pattern 3: Multi-Output Access

```epochscript
# Problem
bb = bbands(period=20, stddev=2)(src.c)
signal = bb > 100  # ERROR

# Solution 1: Specific handle
signal = bb.bbands_upper > 100

# Solution 2: Tuple unpacking
lower, middle, upper = bbands(period=20, stddev=2)(src.c)
signal = upper > 100
```

### Pattern 4: Missing Executor

**See:** [Design Guidelines - Strategy Executor Requirements](./design-guidelines.md#strategy-executor-requirements)

### Pattern 5: Conditional Logic

```epochscript
# Problem
if condition:  # ERROR
    x = 1

# Solution 1: Ternary
x = 1 if condition else 0

# Solution 2: Direct boolean
x = condition  # If you just need True/False
```

---

## Getting More Help

If error persists:

1. **Check design guidelines**: Review [Design Guidelines](./design-guidelines.md) for required patterns
2. **Check transform catalog**: Use the UI Transform Browser to verify transform name, options, inputs, outputs
3. **Review examples**: See working examples in [Strategy Patterns](../strategies/patterns/index.md)
4. **Simplify**: Remove parts until error disappears, then add back
5. **Test incrementally**: Build up strategy step-by-step

---

**Related Documentation:**
- [Design Guidelines](./design-guidelines.md) - Required design patterns and constraints
- [Language Fundamentals](./language/index.md) - Syntax and types
- [Core Concepts](./concepts/index.md) - Timeframes, sessions, cross-sectional
- [Strategy Patterns](../strategies/patterns/index.md) - Complete strategy examples
